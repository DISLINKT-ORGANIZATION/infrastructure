(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"015f":function(t,e,s){},"0757":function(t,e,s){},"08d7":function(t,e,s){"use strict";s("9276")},"08f9":function(t,e,s){"use strict";s("eb40")},"0a24":function(t,e,s){},"0f85":function(t,e,s){"use strict";s("0757")},"10a0":function(t,e,s){"use strict";s("8752")},"148e":function(t,e,s){"use strict";s("a471")},"152b":function(t,e,s){},2251:function(t,e,s){"use strict";s("4712")},2692:function(t,e,s){"use strict";s("6384")},"26a2":function(t,e,s){"use strict";s("4178")},"284a":function(t,e,s){},"2dbf":function(t,e,s){},"2ded":function(t,e,s){"use strict";s("adc3")},3325:function(t,e,s){"use strict";s("0a24")},"33c4":function(t,e,s){},"37b2":function(t,e,s){"use strict";s("9dd6")},"3b7a":function(t,e,s){},"3ff7":function(t,e,s){"use strict";s("2dbf")},"401b":function(t,e,s){},4178:function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="4678"},4712:function(t,e,s){},"49f6":function(t,e,s){"use strict";s("b61d")},"4e59":function(t,e,s){"use strict";s("bc02")},5475:function(t,e,s){},"568d":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-container"},[t._l(t.newComments,(function(s,a){return[e("comment",t._b({key:a},"comment",s,!1))]})),e("create-comment",{attrs:{handleCommentAdded:t.handleCommentAdded,postId:t.postId}})],2)},i=[],n=s("99d9"),o=s("8270"),r=s("5d23"),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-card",attrs:{width:"100%"}},[e(n["c"],{staticClass:"pl-2 pr-2 pt-0 pb-0"},[e(o["a"],{attrs:{size:"32px"}},[e("persona-avatar",{attrs:{fullname:t.firstName+" "+t.lastName,url:t.avatar}})],1),e(r["b"],[e(r["d"],{staticClass:"text-h7 my-font post-owner"},[t._v(" "+t._s(t.firstName)+" "+t._s(t.lastName)+" ")]),e("span",{staticClass:"content my-font"},[t._v(" "+t._s(t.content)+" ")])],1)],1)],1)},l=[],d=s("ffd1"),u={name:"Comment",components:{PersonaAvatar:d["a"]},props:{id:String,firstName:String,lastName:String,content:String},data(){return{}},methods:{}},h=u,m=(s("da1c"),s("2877")),f=Object(m["a"])(h,c,l,!1,null,"0cfdba08",null),p=f.exports,g=s("8336"),b=s("132d"),v=s("a844"),k=function(){var t=this,e=t._self._c;return e("span",{staticClass:"container"},[e(v["a"],{staticClass:"chat-field",attrs:{rows:"1",placeholder:t.userIsLoggedIn()?"Add a comment...":"Log in to comment!",filled:"",rounded:"","no-resize":""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.sendMessage())}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),e(g["a"],{attrs:{disabled:!t.userIsLoggedIn(),fab:"",color:"indigo accent-1"},on:{click:function(e){return t.sendMessage()}}},[e(b["a"],{staticClass:"send-icon"},[t._v("mdi-send")])],1)],1)},y=[];const _="post-service/posts/",C="auth-service/authentication/users/";var x={name:"CreateComment",components:{},props:{name:String,avatar:String,postId:String,handleCommentAdded:Function},data(){return{message:"",firstName:"",lastName:""}},mounted(){this.getUserInfo()},methods:{sendMessage:function(){this.userIsLoggedIn()&&this.axios.post(_+this.postId+"/comment",{userId:localStorage.getItem("id"),content:this.message}).then(t=>{console.log(t.data);let e={id:t.data.id,userId:t.data.userId,content:t.data.content,firstName:this.firstName,lastName:this.lastName};this.handleCommentAdded(e),this.message=""})},userIsLoggedIn(){return null!==localStorage.getItem("id")},getUserInfo(){const t=localStorage.getItem("id");this.axios.get(C+t).then(t=>{console.log(t.data),this.firstName=t.data.firstName,this.lastName=t.data.lastName})}}},w=x,S=(s("2692"),Object(m["a"])(w,k,y,!1,null,"7bb9fe26",null)),I=S.exports,E={name:"CommentList",components:{Comment:p,CreateComment:I},props:{comments:Array,postId:String},data(){return{newComments:[...this.comments]}},methods:{handleCommentAdded(t){this.newComments=[...this.newComments,t]}}},j=E,D=(s("815d"),Object(m["a"])(j,a,i,!1,null,"63efacde",null));e["a"]=D.exports},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=s("7496"),n=function(){var t=this,e=t._self._c;return e(i["a"],[e("snackbar",{ref:"snackbar"}),e("router-view")],1)},o=[],r=s("8336"),c=s("132d"),l=s("2db4"),d=function(){var t=this,e=t._self._c;return e(l["a"],{attrs:{color:t.color,top:"",middle:""},scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e(r["a"],t._b({attrs:{color:"white",text:""},on:{click:function(e){t.showSnackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")]),t.notification?e(r["a"],t._b({attrs:{color:"white",text:""},on:{click:t.onClickHandler}},"v-btn",s,!1),[t._v(" Check ")]):t._e()]}}]),model:{value:t.showSnackbar,callback:function(e){t.showSnackbar=e},expression:"showSnackbar"}},[e(c["a"],{attrs:{left:""}},[t._v(t._s(t.icon))]),t._v(t._s(t.message)+" ")],1)},u=[],h={name:"vtoast",data(){return{showSnackbar:!1,message:"",color:"success",icon:"mdi-check",timer:3e3,onClick:()=>{},notification:!1}},methods:{success(t){this.notification=!1,this.color="success",this.icon="mdi-check",this.message=t||"Successfully finished the operation!",this.showSnackbar=!0},error(t){this.notification=!1,this.color="error",this.icon="mdi-close",this.message=t||"An error has ocurred!",this.showSnackbar=!0},warning(t){this.notification=!1,this.color="warning",this.icon="mdi-alert",this.message=t||"An error has ocurred!",this.showSnackbar=!0},notification_message(t){this.notification=!0,this.color="primary",this.icon="mdi-email",this.message="You have received a new message!",this.showSnackbar=!0,this.onClick=t},notification_connection_request(t){this.notification=!0,this.color="primary",this.icon="mdi-account-plus",this.message="New connection request for you!",this.showSnackbar=!0,this.onClick=t},notification_follow(t){this.notification=!0,this.color="primary",this.icon="mdi-account-plus",this.message="New user started following you!",this.showSnackbar=!0,this.onClick=t},notification_new_post(t){this.notification=!0,this.color="primary",this.icon="mdi-note-text",this.message="New post from your connection!",this.showSnackbar=!0,this.onClick=t},notification_post_like(t){this.notification=!0,this.color="primary",this.icon="mdi-thumb-up",this.message="New like on your post!",this.showSnackbar=!0,this.onClick=t},notification_post_comment(t){this.notification=!0,this.color="primary",this.icon="mdi-comment-text",this.message="New comment on your post!",this.showSnackbar=!0,this.onClick=t},onClickHandler(){this.showSnackbar=!1,this.onClick()}}},m=h,f=s("2877"),p=Object(f["a"])(m,d,u,!1,null,null,null),g=p.exports,b={name:"App",components:{snackbar:g},data:()=>({}),mounted(){this.$root.snackbar=this.$refs.snackbar}},v=b,k=(s("f52d"),Object(f["a"])(v,n,o,!1,null,null,null)),y=k.exports,_=s("f309");a["a"].use(_["a"]);var C=new _["a"]({}),x=s("8c4f"),w=s("62ad"),S=s("a523"),I=s("0fd9"),E=function(){var t=this,e=t._self._c;return e(S["a"],{staticClass:"main-screen",staticStyle:{"justify-content":"center"},attrs:{fluid:"","fill-height":""}},[e("div",[e(I["a"],[e(w["a"],{attrs:{cols:"12"}},[e("LoginForm")],1)],1)],1)])},j=[],D=s("b0af"),N=s("99d9"),P=s("4bd4"),O=s("8654"),$=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{"fill-height":""}},[e(S["a"],[e(D["a"],{attrs:{width:"800px",height:"500px",elevation:"24"}},[e(N["c"],{staticClass:"description pt-15 justify-center",staticStyle:{"font-size":"50px"},attrs:{align:"center",justify:"center"}},[e("b",[t._v("Welcome to DISLINKT!")])]),e(I["a"],{staticClass:"description",staticStyle:{"font-size":"30px"},attrs:{align:"center",justify:"center"}},[t._v(" Log in to start looking for a job! ")]),e(N["b"],[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{staticClass:"ml-5 mr-5 mt-10"},[e(P["a"],{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(I["a"],{staticClass:"pb-5"},[e(O["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{rules:[t.rules.required],label:"Username","prepend-icon":"mdi-account",type:"text"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),e(I["a"],{staticClass:"pb-5"},[e(O["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{rules:[t.rules.required],label:"Password","prepend-icon":"mdi-lock","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),e(I["a"],[e(w["a"],{staticClass:"mt-6"},[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"main-screen",block:"",loading:t.loading},on:{click:function(e){return t.login()}}},[e("b",[t._v("Log in")])])],1)],1)],1),e(I["a"],{staticClass:"pt-5",attrs:{align:"center",justify:"center"}},[e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"RegisterView"}}},[e("p",{staticClass:"description",staticStyle:{"font-size":"20px",color:"#666bff"}},[t._v(" Don't have an account? Sign up ")])])],1)],1)],1)],1)],1)],1)],1)},M=[];const L="auth-service/authentication/login";var T={name:"LoginForm",data(){return{user:{username:"",password:""},rules:{required:t=>!!t||"Field is required."},valid:!0,error:!1,showPassword:!1,loading:!1}},methods:{login:function(){this.loading=!0,this.$refs.form.validate(),this.valid?this.axios({url:L,method:"POST",data:this.user}).then(t=>{localStorage.setItem("id",t.data.id),localStorage.setItem("role",t.data.role),localStorage.setItem("token",t.data.token),this.axios.defaults.headers["Authorization"]="Bearer "+t.data.token,this.loading=!1,"ROLE_ADMINISTRATOR"===t.data.role?this.$router.push({name:"EventsView"}):this.$router.push({name:"FeedView"})}).catch(t=>{this.loading=!1,this.$root.snackbar.error("Invalid credentials"),this.$refs.form.reset(),console.log(t)}):this.loading=!1}}},z=T,U=(s("2251"),Object(f["a"])(z,$,M,!1,null,"6883e5c4",null)),q=U.exports,R={name:"LoginView",components:{LoginForm:q}},A=R,V=(s("9a49"),Object(f["a"])(A,E,j,!1,null,"b1b0f772",null)),F=V.exports,B=function(){var t=this,e=t._self._c;return e(S["a"],{staticClass:"main-screen",staticStyle:{"justify-content":"center"},attrs:{fluid:"","fill-height":""}},[e("div",[e(I["a"],[e(w["a"],{attrs:{cols:"12"}},[e("RegisterForm")],1)],1)],1)])},Y=[],W=s("2e4b"),G=s("e449"),J=s("b974"),H=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{"fill-height":""}},[e(S["a"],[e(D["a"],{attrs:{width:"900",height:"700",elevation:"24"}},[e(N["c"],{staticClass:"description pt-15 justify-center",staticStyle:{"font-size":"50px"},attrs:{align:"center",justify:"center"}},[e("b",[t._v("Welcome to DISLINKT!")])]),e(I["a"],{staticClass:"description",staticStyle:{"font-size":"30px"},attrs:{align:"center",justify:"center"}},[t._v(" Register to start looking for a job! ")]),e(P["a"],{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(I["a"],{staticClass:"ml-5 mr-5 mt-10"},[e(w["a"],{staticClass:"pr-5"},[e(O["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{rules:[t.rules.required],label:"Username","prepend-icon":"mdi-account",type:"text"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),e(w["a"],{staticClass:"pr-5"},[e(O["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{rules:[t.rules.email,t.rules.required],label:"Email","prepend-icon":"mdi-email",type:"text"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)],1),e(I["a"],{staticClass:"ml-5 mr-5 mt-5"},[e(w["a"],{staticClass:"pr-5"},[e(O["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{rules:[t.rules.required],label:"First Name","prepend-icon":"mdi-account",type:"text"},model:{value:t.user.firstName,callback:function(e){t.$set(t.user,"firstName",e)},expression:"user.firstName"}})],1),e(w["a"],[e(O["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{rules:[t.rules.required],label:"Last Name","prepend-icon":"mdi-account",type:"text"},model:{value:t.user.lastName,callback:function(e){t.$set(t.user,"lastName",e)},expression:"user.lastName"}})],1)],1),e(I["a"],{staticClass:"ml-5 mr-5 mt-5"},[e(w["a"],[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(O["a"],t._g(t._b({staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"Birthday","prepend-icon":"mdi-calendar",readonly:"",rules:[t.rules.required]},model:{value:t.birthDate,callback:function(e){t.birthDate=e},expression:"birthDate"}},"v-text-field",a,!1),s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},on:{input:function(e){t.menu=!1}},model:{value:t.birthDate,callback:function(e){t.birthDate=e},expression:"birthDate"}})],1)],1),e(w["a"],[e(J["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{items:t.genders,label:"Gender","item-value":"id","item-name":"text","prepend-icon":"mdi-gender-transgender",rules:[t.rules.required]},model:{value:t.user.gender,callback:function(e){t.$set(t.user,"gender",e)},expression:"user.gender"}})],1)],1),e(I["a"],{staticClass:"ml-5 mr-5 mt-5"},[e(w["a"],[e(O["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{id:"custom-css-input",rules:[t.rules.required,t.rules.counter],label:"Password","prepend-icon":"mdi-lock","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),e(w["a"],[e(O["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{rules:[t.rules.passwordMatch,t.rules.required],label:"Confirm Password","prepend-icon":"mdi-lock","append-icon":t.showConfirmPassword?"mdi-eye":"mdi-eye-off",type:t.showConfirmPassword?"text":"password"},on:{"click:append":function(e){t.showConfirmPassword=!t.showConfirmPassword}},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1)],1),e(I["a"],[e(w["a"],{staticClass:"mt-6 ml-8 mr-8"},[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"main-screen",block:"",loading:t.loading},on:{click:function(e){return t.register()}}},[e("b",[t._v("Register")])])],1)],1),e(I["a"],{staticClass:"pt-2",attrs:{align:"center",justify:"center"}},[e("router-link",{staticStyle:{"text-decoration":"none",color:"#666bff"},attrs:{to:{name:"LoginView"}}},[e("p",{staticClass:"description",staticStyle:{"font-size":"20px"}},[t._v(" Already have an account? Log in ")])])],1)],1)],1)],1)},K=[];const Q="auth-service/authentication/register-user";var Z={name:"RegisterForm",data(){return{user:{username:"",email:"",firstName:"",lastName:"",birthDate:"",gender:"",password:""},menu:!1,valid:!0,confirmPassword:"",showPassword:!1,showConfirmPassword:!1,error:!1,loading:!1,birthDate:"",rules:{required:t=>!!t||"Field is required.",email:t=>{const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."},counter:t=>t&&t.length>=5||"Password must have a minimum of 5 characters.",passwordMatch:()=>this.user.password==this.confirmPassword||"Passwords must match."},genders:[{id:1,text:"Female"},{id:2,text:"Male"},{id:3,text:"Other"}]}},methods:{register:function(){if(this.user.birthDate=this.convertToLong(this.birthDate),this.loading=!0,this.$refs.form.validate(),!this.valid)return void(this.loading=!1);if(this.user.password!=this.confirmPassword)return void(this.loading=!1);console.log(this.user);const t=Object.assign({},this.user);t.gender=t.gender-1,this.axios.post(Q,t).then(t=>{this.loading=!1,this.$root.snackbar.success("You've successfully registered your account"),this.$refs.form.reset(),console.log(t)}).catch(t=>{this.loading=!1,t.response.data?this.$root.snackbar.error(t.response.data):this.$root.snackbar.error()})},convertToLong:function(t){let e=new Date(t);return e.getTime()}}},X=Z,tt=(s("d36b"),Object(f["a"])(X,H,K,!1,null,"d8369322",null)),et=tt.exports,st={name:"RegisterView",components:{RegisterForm:et}},at=st,it=(s("10a0"),Object(f["a"])(at,B,Y,!1,null,"07ad616c",null)),nt=it.exports,ot=s("40dc"),rt=s("5bc1"),ct=s("f6c4"),lt=s("f774"),dt=s("2fa4"),ut=s("2a7f"),ht=function(){var t=this,e=t._self._c;return e(S["a"],{staticClass:"container",attrs:{fluid:""}},[t.isLoggedIn()?e(lt["a"],{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e("navigation-bar",{attrs:{user:t.user}})],1):t._e(),e(ot["a"],{attrs:{color:"indigo accent-1",app:""}},[e(rt["a"],{on:{click:function(e){t.drawer=!t.drawer}}}),e(ut["a"],{staticClass:"description",staticStyle:{"font-size":"25px"}},[t._v("DISLINKT")]),e(dt["a"]),t.isLoggedIn()?["ROLE_USER"===t.user.role?e(r["a"],{staticClass:"ml-3",attrs:{icon:""},on:{click:function(e){return t.checkRequests()}}},[e(c["a"],[t._v("mdi-account-outline")])],1):t._e(),"ROLE_USER"===t.user.role?e("router-link",{attrs:{to:{name:"ChatView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(r["a"],{staticClass:"ml-3",attrs:{icon:""},on:{click:s}},[e(c["a"],[t._v("mdi-message-outline")])],1)]}}],null,!1,1129814308)}):t._e(),"ROLE_USER"===t.user.role?e("router-link",{attrs:{to:{name:"NotificationsView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(r["a"],{staticClass:"ml-3",attrs:{icon:""},on:{click:s}},[e(c["a"],[t._v("mdi-bell-outline")])],1)]}}],null,!1,1012611112)}):t._e(),e(r["a"],{staticClass:"ml-3",attrs:{icon:""},on:{click:function(e){return t.logout()}}},[e(c["a"],[t._v("mdi-logout")])],1)]:[e(r["a"],{staticClass:"ml-3",attrs:{icon:""},on:{click:function(e){return t.redirectToLogin()}}},[e(c["a"],[t._v("mdi-login")])],1)]],2),e(ct["a"],{staticClass:"blue-grey lighten-5 content"},[e(S["a"],{staticClass:"main-container",attrs:{fluid:""}},[e("router-view")],1)],1)],1)},mt=[],ft=s("5132"),pt=s.n(ft),gt=s("ce7e"),bt=s("0e8f"),vt=s("adda"),kt=s("a722"),yt=s("8860"),_t=s("56b0"),Ct=s("da13"),xt=s("5d23"),wt=s("1baa"),St=s("34c3"),It=function(){var t=this,e=t._self._c;return e(S["a"],[e(kt["a"],{attrs:{"justify-center":"","align-center":""}},[e(bt["a"],{attrs:{shrink:""}},[e(vt["a"],{staticStyle:{width:"170px",height:"120px"},attrs:{src:s("9004")}})],1)],1),e(yt["a"],[e("router-link",{attrs:{to:{name:"ProfileView",params:{id:t.userId}}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{attrs:{link:""},on:{click:s}},[e(xt["b"],["ROLE_USER"===t.role?e(xt["d"],{staticClass:"description d-flex justify-center",staticStyle:{"font-size":"25px"}},[t._v(" "+t._s(t.user.firstName)+" "+t._s(t.user.lastName)+" ")]):t._e(),e(xt["c"],{staticClass:"description d-flex justify-center",staticStyle:{"font-size":"18px"}},[t._v(" @"+t._s(t.user.username)+" ")])],1)],1)]}}])})],1),e(gt["a"]),e(yt["a"],{attrs:{nav:"",dense:""}},[e(wt["a"],{staticClass:"description",attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},["ROLE_ADMINISTRATOR"===t.role?e("router-link",{attrs:{to:{name:"EventsView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-home-outline")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Home")])],1)],1)]}}],null,!1,393065463)}):t._e(),"ROLE_USER"===t.role?e("router-link",{attrs:{to:{name:"FeedView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-home-outline")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Home")])],1)],1)]}}],null,!1,393065463)}):t._e(),e(gt["a"]),"ROLE_USER"===t.role?e("router-link",{attrs:{to:{name:"AccountView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-account-box-outline")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Account")])],1)],1)]}}],null,!1,601647375)}):t._e(),"ROLE_USER"===t.role?e(_t["a"],{attrs:{"prepend-icon":"mdi-file-account-outline"},scopedSlots:t._u([{key:"activator",fn:function(){return[e(xt["b"],{staticStyle:{"font-size":"18px"}},[t._v("Resume")])]},proxy:!0}],null,!1,680612782)},["ROLE_USER"===t.role?e("router-link",{attrs:{to:{name:"BiographyView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-text-account")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Biography")])],1)],1)]}}],null,!1,206760026)}):t._e(),"ROLE_USER"===t.role?e("router-link",{attrs:{to:{name:"SkillsView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-lightbulb-on-outline")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Skills")])],1)],1)]}}],null,!1,2260263390)}):t._e(),"ROLE_USER"===t.role?e("router-link",{attrs:{to:{name:"WorkingExperienceView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-briefcase-outline")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Experience")])],1)],1)]}}],null,!1,3845587879)}):t._e(),"ROLE_USER"===t.role?e("router-link",{attrs:{to:{name:"EducationView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-account-school-outline")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Education")])],1)],1)]}}],null,!1,1433207173)}):t._e()],1):t._e(),"ROLE_USER"===t.role?e(gt["a"]):t._e(),"ROLE_USER"===t.role?e("router-link",{attrs:{to:{name:"MyConnectionsView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-account-heart-outline")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("My Network")])],1)],1)]}}],null,!1,876884987)}):t._e(),"ROLE_USER"===t.role?e("router-link",{attrs:{to:{name:"ExploreConnectionsView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-account-plus-outline")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Add Connections")])],1)],1)]}}],null,!1,3520328677)}):t._e(),"ROLE_USER"===t.role?e("router-link",{attrs:{to:{name:"BlockedConnectionsView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-account-remove-outline")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Blocked Accounts")])],1)],1)]}}],null,!1,747969447)}):t._e(),"ROLE_ADMINISTRATOR"!==t.role?e(gt["a"]):t._e(),"ROLE_ADMINISTRATOR"!==t.role?e("router-link",{attrs:{to:{name:"ExploreJobOffersView"}},scopedSlots:t._u([{key:"default",fn:function({navigate:s}){return[e(Ct["a"],{on:{click:s}},[e(St["a"],[e(c["a"],[t._v("mdi-magnify")])],1),e(xt["b"],[e(xt["d"],{staticStyle:{"font-size":"18px"}},[t._v("Explore offers")])],1)],1)]}}],null,!1,2744391387)}):t._e()],1)],1)],1)},Et=[],jt={data:()=>({selectedItem:null,userId:localStorage.getItem("id"),role:localStorage.getItem("role")}),props:{user:Object}},Dt=jt,Nt=(s("e311"),Object(f["a"])(Dt,It,Et,!1,null,"4a77d7f4",null)),Pt=Nt.exports;const Ot="auth-service/authentication/users/";var $t={name:"HomeView",components:{NavigationBar:Pt},data(){return{drawer:!0,user:{firstName:String,lastName:String,username:String},socket:void 0}},mounted(){this.isLoggedIn()&&(this.getLoggedInUser(),this.socket=new pt.a({debug:!0,connection:"http://localhost:8187/notification?room="+localStorage.getItem("id")}),this.socket.emitter.addListener("notification",(function(t){switch(console.log(t),t.notificationType){case"MESSAGE_SENT":this.$root.snackbar.notification_message((function(){this.$router.push({name:"ChatRoom",params:{recipientId:t.senderId}})}));break;case"NEW_POST":this.$root.snackbar.notification_new_post((function(){this.$router.push({name:"ProfileView",params:{id:t.senderId}})}));break;case"LIKE":this.$root.snackbar.notification_post_like((function(){this.$router.push({name:"ProfileView",params:{id:t.recipientId}})}));break;case"COMMENT":this.$root.snackbar.notification_post_comment((function(){this.$router.push({name:"ProfileView",params:{id:t.recipientId}})}));break;case"NEW_CONNECTION":this.$root.snackbar.notification_follow((function(){this.$router.push({name:"ProfileView",params:{id:t.senderId}})}));break;case"CONNECTION_REQUEST":this.$root.snackbar.notification_connection_request((function(){this.$router.push({name:"ConnectionRequestsView"})}));break}}),this))},methods:{isLoggedIn(){return null!==localStorage.getItem("id")},logout(){localStorage.clear(),this.socket.io.disconnect(),this.$router.push({name:"GuestView"})},checkRequests(){this.$router.push({name:"ConnectionRequestsView"})},getLoggedInUser(){let t=localStorage.getItem("id");console.log(t),this.axios.get(Ot+t).then(t=>{this.user=t.data}).catch(t=>{this.$root.snackbar.error(t.response.data.message)})},redirectToLogin(){this.$router.push({name:"LoginView"})}}},Mt=$t,Lt=(s("7d6d"),Object(f["a"])(Mt,ht,mt,!1,null,"3cf193b2",null)),Tt=Lt.exports,zt=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"8"}},[e(D["a"],{staticClass:"mt-10"},[e(N["c"],{staticClass:"description ml-5"},[e(w["a"],[t._v("My account")])],1),e(N["b"],[e(I["a"],[e("account-form",{attrs:{userId:t.userId,editable:!0}})],1)],1)],1)],1)],1)],1)},Ut=[],qt=s("8e36"),Rt=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{"fill-height":"",align:"center",justify:"center"}},[e(I["a"],{staticClass:"ml-3 mr-3"},[e(qt["a"],{attrs:{indeterminate:"",color:"teal",active:t.show}})],1),t.show?t._e():e(P["a"],{ref:"form",staticStyle:{flex:"1"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(I["a"],{staticClass:"ml-5 mr-5 mt-5"},[e(w["a"],{staticClass:"pr-5"},[e(O["a"],{staticClass:"description",attrs:{rules:[t.rules.required],label:"Username","prepend-icon":"mdi-account",type:"text",readonly:!t.editing},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),e(w["a"],{staticClass:"pr-5"},[e(O["a"],{staticClass:"description",attrs:{rules:[t.rules.email,t.rules.required],label:"Email","prepend-icon":"mdi-email",type:"text",readonly:!t.editing},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)],1),e(I["a"],{staticClass:"ml-5 mr-5 mt-5"},[e(w["a"],{staticClass:"pr-5"},[e(O["a"],{staticClass:"description",attrs:{rules:[t.rules.required],label:"First Name","prepend-icon":"mdi-account",type:"text",readonly:!t.editing},model:{value:t.user.firstName,callback:function(e){t.$set(t.user,"firstName",e)},expression:"user.firstName"}})],1),e(w["a"],[e(O["a"],{staticClass:"description",attrs:{rules:[t.rules.required],label:"Last Name","prepend-icon":"mdi-account",type:"text",readonly:!t.editing},model:{value:t.user.lastName,callback:function(e){t.$set(t.user,"lastName",e)},expression:"user.lastName"}})],1)],1),e(I["a"],{staticClass:"ml-5 mr-5 mt-5"},[e(w["a"],[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto",disabled:!t.editing},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(O["a"],t._g(t._b({staticClass:"description",attrs:{readonly:!t.editing,label:"Birthday","prepend-icon":"mdi-calendar",rules:[t.rules.required]},model:{value:t.user.birthDate,callback:function(e){t.$set(t.user,"birthDate",e)},expression:"user.birthDate"}},"v-text-field",a,!1),s))]}}],null,!1,1949815193),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{readonly:!t.editing},model:{value:t.user.birthDate,callback:function(e){t.$set(t.user,"birthDate",e)},expression:"user.birthDate"}})],1)],1),e(w["a"],[e(J["a"],{staticClass:"description",attrs:{readonly:!t.editing,items:t.genders,label:"Gender","item-value":"id","item-name":"text","prepend-icon":"mdi-gender-transgender",rules:[t.rules.required]},model:{value:t.user.gender,callback:function(e){t.$set(t.user,"gender",e)},expression:"user.gender"}})],1)],1),t.editable&&!t.editing?e(I["a"],{staticClass:"ml-5 mr-5"},[e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"#8C9EFF",block:"",loading:t.loading},on:{click:function(e){return t.startEditing()}}},[e("b",[t._v("Edit details")])])],1)],1):t._e(),t.editable&&t.editing?e(I["a"],{staticClass:"ml-5 mr-5"},[e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"success",block:"",loading:t.loading},on:{click:function(e){return t.saveChanges()}}},[e("b",[t._v("Save changes")])])],1),e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"error",block:"",loading:t.loading},on:{click:function(e){return t.discardChanges()}}},[e("b",[t._v("Discard changes")])])],1)],1):t._e()],1)],1)},At=[],Vt=s("c1df"),Ft=s.n(Vt);const Bt="auth-service/authentication/users/",Yt="auth-service/authentication/users/update-person";var Wt={name:"AccountForm",props:{userId:Number,editable:Boolean},data(){return{user:{username:String,email:String,firstName:String,lastName:String,birthDate:Number,gender:Number},userSnaphsot:{},menu:!1,valid:!0,editing:!1,loading:!1,show:!0,rules:{required:t=>!!t||"Field is required.",email:t=>{const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."}},genders:[{id:1,text:"Female"},{id:2,text:"Male"},{id:3,text:"Other"}]}},mounted:function(){this.getProfile()},methods:{getProfile:function(){this.axios.get(Bt+this.userId).then(t=>{console.log(t),this.user={...t.data,birthDate:this.convertToDateString(t.data.birthDate),gender:t.data.gender+1},this.show=!1}).catch(t=>{this.$root.snackbar.error(t.response.data.message),this.show=!1})},startEditing:function(){this.userSnapshot=Object.assign({},this.user),this.editing=!0},saveChanges:function(){this.loading=!0;let t=Object.assign({},this.user);t={...t,birthDate:this.convertToLong(t.birthDate),gender:t.gender-1},this.axios({url:Yt,data:t,method:"PUT"}).then(t=>{console.log(t);let e=t.data.token;e&&(localStorage.setItem("token",e),this.axios.defaults.headers["Authorization"]="Bearer "+e),this.editing=!1,this.loading=!1,this.$root.snackbar.success("Successfully updated account")}).catch(t=>{console.log(t),this.loading=!1,this.$root.snackbar.error(t.response.data)})},discardChanges:function(){this.user=Object.assign({},this.userSnapshot),this.userSnapshot={},this.editing=!1},convertToDateString:function(t){return Ft()(t).format("YYYY-MM-DD")},convertToLong:function(t){const e=Ft()(t,"YYYY-MM-DD").toDate();return e.getTime()}}},Gt=Wt,Jt=(s("a07b"),Object(f["a"])(Gt,Rt,At,!1,null,"6f96387a",null)),Ht=Jt.exports,Kt={name:"AccountView",components:{AccountForm:Ht},data(){return{userId:localStorage.getItem("id")}}},Qt=Kt,Zt=(s("148e"),Object(f["a"])(Qt,zt,Ut,!1,null,"d63e0374",null)),Xt=Zt.exports,te=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"8"}},[e(D["a"],{staticClass:"mt-10"},[e(N["c"],{staticClass:"description ml-1"},[e(w["a"],[t._v("My skills")])],1),e(N["b"],[e(I["a"],[e("skill-card",{attrs:{userId:t.userId,editable:!0}})],1)],1)],1)],1)],1)],1)},ee=[],se=s("c6a6"),ae=s("8270"),ie=s("ba0d"),ne=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{"fill-height":"",align:"center",justify:"center"}},[e(I["a"],{staticClass:"ml-3 mr-3"},[e(qt["a"],{attrs:{indeterminate:"",color:"teal",active:t.show}})],1),e(P["a"],{ref:"form",staticStyle:{flex:"1"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(yt["a"],[t._l(t.proficiencies,(function(s){return e(Ct["a"],{key:s.id},[e(ae["a"],[e(vt["a"],{attrs:{src:t.getPicture(s.type)}})],1),e(xt["b"],[e(xt["d"],{staticClass:"text",domProps:{textContent:t._s(s.name)}})],1),e(xt["b"],{staticStyle:{flex:"2"}},[e(ie["a"],{staticClass:"text",attrs:{"tick-labels":t.labels,min:"1",max:"5",ticks:"always","tick-size":"5",readonly:!t.editing},model:{value:s.skillProficiency,callback:function(e){t.$set(s,"skillProficiency",e)},expression:"p.skillProficiency"}})],1),e(St["a"],[e(r["a"],{attrs:{disabled:!t.editing,icon:""},on:{click:function(e){return t.deleteItem(s.id)}}},[e(c["a"],{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[t._v(" mdi-delete ")])],1)],1)],1)})),t.editing?e(Ct["a"],[e(ae["a"],[e(vt["a"],{attrs:{src:t.getPicture(t.newElement.type)}})],1),e(xt["b"],[e(se["a"],{staticClass:"text",attrs:{placeholder:"Type",items:t.cvElementTypes},model:{value:t.newElement.type,callback:function(e){t.$set(t.newElement,"type",e)},expression:"newElement.type"}})],1),e(xt["b"],{staticClass:"ml-2"},[e(se["a"],{staticClass:"text",attrs:{placeholder:"Element",items:t.getElementsForType(t.newElement.type),"item-text":"name","item-value":"value",rules:[t.rules.required]},model:{value:t.newElement.name,callback:function(e){t.$set(t.newElement,"name",e)},expression:"newElement.name"}})],1),e(xt["b"],{staticClass:"ml-2"},[e(se["a"],{staticClass:"text",attrs:{placeholder:"Proficiency",items:t.possibleProficiencies,rules:[t.rules.required]},model:{value:t.newElement.skillProficiency,callback:function(e){t.$set(t.newElement,"skillProficiency",e)},expression:"newElement.skillProficiency"}})],1),e(St["a"],[e(r["a"],{attrs:{icon:""},on:{click:function(e){return t.addItem(t.newElement)}}},[e(c["a"],[t._v(" mdi-check ")])],1)],1)],1):t._e(),t.editable&&!t.editing?e(I["a"],[e(w["a"],[e(r["a"],{staticClass:"text",staticStyle:{"font-size":"15px"},attrs:{color:"#8C9EFF",block:"",loading:t.loading},on:{click:function(e){return t.startEditing()}}},[e("b",[t._v("Edit details")])])],1)],1):t._e(),t.editable&&t.editing?e(I["a"],[e(w["a"],[e(r["a"],{staticClass:"text",staticStyle:{"font-size":"15px"},attrs:{color:"success",block:"",loading:t.loading},on:{click:function(e){return t.saveChanges()}}},[e("b",[t._v("Save changes")])])],1),e(w["a"],[e(r["a"],{staticClass:"text",staticStyle:{"font-size":"15px"},attrs:{color:"error",block:"",loading:t.loading},on:{click:function(e){return t.discardChanges()}}},[e("b",[t._v("Discard changes")])])],1)],1):t._e()],2)],1)],1)},oe=[];const re="account-service/skill-proficiencies/type",ce="account-service/accounts/user/",le="account-service/skill-proficiencies/user/";var de={name:"SkillCard",props:{userId:Number,editable:Boolean},data(){return{valid:!0,loading:!1,editing:!1,proficiencies:[],show:!1,rules:{required:t=>!!t||"Field is required."},labels:["Basic","Good","Very good","Excellent","Expert"],newElement:{type:0,name:"",id:0,skillProficiency:0},cvElements:{},cvElementTypes:[{text:"Programming language",value:0},{text:"Technology",value:1},{text:"Knowledge",value:2},{text:"Language",value:3},{text:"Soft skill",value:4}],possibleProficiencies:[{text:"Basic",value:1},{text:"Good",value:2},{text:"Very good",value:3},{text:"Excellent",value:4},{text:"Expert",value:5}]}},mounted:function(){this.getUserAccount(),this.getAllSkillElements()},methods:{getUserAccount:function(){this.show=!0,this.axios.get(ce+this.userId).then(t=>{this.proficiencies=t.data.skills,this.proficiencies.forEach(t=>{t.skillProficiency=t.skillProficiency+1}),this.proficiencies.sort(this.elementTypeSort),this.show=!1})},getAllSkillElements:function(){this.show=!0,this.axios.get(re).then(t=>{this.cvElements=t.data,this.show=!1}).catch(t=>{this.$root.snackbar.error(t.response.data.message)})},getElementsForType:function(t){const e=this.cvElements[t],s=e.filter(t=>{let e=!1;return this.proficiencies.forEach(s=>{s.name==t.name&&(e=!0)}),!e});return s},addItem:function(t){if(this.$refs.form.validate(),!this.valid)return;const e=this.cvElements[t.type].find(e=>e.name==t.name).id,s=Object.assign({},t);s.id=5*(e-1)+parseInt(t.skillProficiency),this.newElement.type=0,this.newElement.name="",this.newElement.skillProficiency=0,this.proficiencies.push(s),this.$refs.form.resetValidation()},deleteItem:function(t){this.proficiencies=this.proficiencies.filter(e=>e.id!=t)},startEditing:function(){this.profSnapshot=[],this.proficiencies.forEach(t=>{this.profSnapshot.push(Object.assign({},t))}),this.editing=!0},saveChanges:function(){let t=Object.assign([],this.proficiencies);this.loading=!0,this.axios({url:le+this.userId,method:"PUT",data:t}).then(()=>{this.proficiencies.sort(this.elementTypeSort),this.editing=!1,this.loading=!1,this.$root.snackbar.success("Successfully updated skills")})},discardChanges:function(){this.proficiencies=Object.assign([],this.profSnapshot),this.profSnapshot=[],this.editing=!1},elementTypeSort:function(t,e){return t.type==e.type?t.name>e.name?1:-1:t.type>e.type?1:-1},getPicture:function(t){switch(t){case 0:return s("888e");case 1:return s("8c1c");case 2:return s("d895");case 3:return s("fbbb");case 4:return s("c998")}}}},ue=de,he=(s("78d4"),Object(f["a"])(ue,ne,oe,!1,null,"3c5b16c8",null)),me=he.exports,fe={name:"SkillsView",components:{SkillCard:me},data(){return{userId:localStorage.getItem("id")}}},pe=fe,ge=(s("26a2"),Object(f["a"])(pe,te,ee,!1,null,"4daac7ef",null)),be=ge.exports,ve=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"8"}},[e(D["a"],{staticClass:"mt-5"},[e(N["c"],{staticClass:"description ml-1"},[e(w["a"],[t._v("My working experience")])],1),e(N["b"],[e(I["a"],[e("working-experience-card",{attrs:{userId:t.userId,editable:!0}})],1)],1)],1)],1)],1)],1)},ke=[],ye=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{"fill-height":"",align:"center",justify:"center"}},[e(P["a"],{ref:"form",staticStyle:{flex:"1"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(yt["a"],[t._l(t.experience,(function(s,a){return e("div",{key:s.id},[e(D["a"],{staticClass:"mb-5 card-color",attrs:{elevation:"0"}},[e(Ct["a"],[e(xt["b"],[e(xt["d"],{staticClass:"position-title",domProps:{textContent:t._s(s.positionTitle)}})],1)],1),e(Ct["a"],[e(xt["b"],{staticStyle:{flex:"2"}},[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto",disabled:!t.editing},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(O["a"],t._g(t._b({staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"Start date","prepend-icon":"mdi-calendar",readonly:"",rules:[t.rules.required]},model:{value:s.startDate,callback:function(e){t.$set(s,"startDate",e)},expression:"e.startDate"}},"v-text-field",i,!1),a))]}}],null,!0),model:{value:t.startDateMenu[a],callback:function(e){t.$set(t.startDateMenu,a,e)},expression:"startDateMenu[idx]"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},on:{input:function(e){t.startDateMenu[a]=!1}},model:{value:s.startDate,callback:function(e){t.$set(s,"startDate",e)},expression:"e.startDate"}})],1)],1),e(xt["b"],{staticStyle:{flex:"2"}},[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto",disabled:!t.editing},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(O["a"],t._g(t._b({staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"End date","prepend-icon":"mdi-calendar",readonly:""},model:{value:s.endDate,callback:function(e){t.$set(s,"endDate",e)},expression:"e.endDate"}},"v-text-field",i,!1),a))]}}],null,!0),model:{value:t.endDateMenu[a],callback:function(e){t.$set(t.endDateMenu,a,e)},expression:"endDateMenu[idx]"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},on:{input:function(e){t.endDateMenu[a]=!1}},model:{value:s.endDate,callback:function(e){t.$set(s,"endDate",e)},expression:"e.endDate"}})],1)],1)],1),e(Ct["a"],[e(xt["b"],{staticStyle:{flex:"2"}},[e(ie["a"],{attrs:{"tick-labels":t.labels,min:"1",max:"3",ticks:"always","tick-size":"3",readonly:!t.editing},model:{value:s.seniority,callback:function(e){t.$set(s,"seniority",e)},expression:"e.seniority"}})],1)],1),e(Ct["a"],[e(xt["b"],{staticStyle:{flex:"4"}},[e(se["a"],{attrs:{items:t.skills,"item-text":"name","return-object":"",multiple:"",readonly:!t.editing,rules:[t.rules.nonEmptyArray]},scopedSlots:t._u([{key:"item",fn:function(e){return[t._v(" "+t._s(e.item.name+" ("+e.item.group+")")+" ")]}}],null,!0),model:{value:s.skills,callback:function(e){t.$set(s,"skills",e)},expression:"e.skills"}})],1),e(St["a"],[e(r["a"],{attrs:{disabled:!t.editing,icon:""},on:{click:function(e){return t.deleteItem(s.id)}}},[e(c["a"],{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[t._v(" mdi-delete ")])],1)],1)],1)],1)],1)})),t.editing?e("div",[e(D["a"],{staticClass:"mb-5 card-color",attrs:{elevation:"0"}},[e(Ct["a"],[e(xt["b"],{staticStyle:{flex:"2"}},[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(O["a"],t._g(t._b({staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"Start date","prepend-icon":"mdi-calendar",readonly:"",rules:[t.rules.required]},model:{value:t.newElement.startDate,callback:function(e){t.$set(t.newElement,"startDate",e)},expression:"newElement.startDate"}},"v-text-field",a,!1),s))]}}],null,!1,3293310912),model:{value:t.startDateMenuEditing,callback:function(e){t.startDateMenuEditing=e},expression:"startDateMenuEditing"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},on:{input:function(e){t.startDateMenuEditing=!1}},model:{value:t.newElement.startDate,callback:function(e){t.$set(t.newElement,"startDate",e)},expression:"newElement.startDate"}})],1)],1),e(xt["b"],{staticStyle:{flex:"2"}},[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(O["a"],t._g(t._b({staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"End date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.newElement.endDate,callback:function(e){t.$set(t.newElement,"endDate",e)},expression:"newElement.endDate"}},"v-text-field",a,!1),s))]}}],null,!1,2376016151),model:{value:t.endDateMenuEditing,callback:function(e){t.endDateMenuEditing=e},expression:"endDateMenuEditing"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},on:{input:function(e){t.endDateMenuEditing=!1}},model:{value:t.newElement.endDate,callback:function(e){t.$set(t.newElement,"endDate",e)},expression:"newElement.endDate"}})],1)],1)],1),e(Ct["a"],[e(xt["b"],[e(se["a"],{attrs:{items:t.jobPositions,placeholder:"Job title",rules:[t.rules.required],"item-text":"title","item-value":"id"},model:{value:t.newElement.positionId,callback:function(e){t.$set(t.newElement,"positionId",e)},expression:"newElement.positionId"}})],1),e(xt["b"],{staticClass:"ml-2",staticStyle:{flex:"2"}},[e(ie["a"],{attrs:{"tick-labels":t.labels,min:"1",max:"3",ticks:"always","tick-size":"3",readonly:!t.editing},model:{value:t.newElement.seniority,callback:function(e){t.$set(t.newElement,"seniority",e)},expression:"newElement.seniority"}})],1)],1),e(Ct["a"],[e(xt["b"],{staticStyle:{flex:"4"}},[e(se["a"],{attrs:{placeholder:"Used skills",items:t.skills,"item-text":"name","return-object":"",multiple:"",rules:[t.rules.nonEmptyArray],readonly:!t.editing},scopedSlots:t._u([{key:"item",fn:function(e){return[t._v(" "+t._s(e.item.name)+" ")]}}],null,!1,594830811),model:{value:t.newElement.skills,callback:function(e){t.$set(t.newElement,"skills",e)},expression:"newElement.skills"}})],1),e(St["a"],[e(r["a"],{attrs:{icon:""},on:{click:function(e){return t.addItem(t.newElement)}}},[e(c["a"],{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[t._v(" mdi-check ")])],1)],1)],1)],1)],1):t._e(),t.editable&&!t.editing?e(I["a"],[e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"#8C9EFF",block:"",loading:t.loading},on:{click:function(e){return t.startEditing()}}},[e("b",[t._v("Edit details")])])],1)],1):t._e(),t.editable&&t.editing?e(I["a"],[e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"success",block:"",loading:t.loading},on:{click:function(e){return t.saveChanges()}}},[e("b",[t._v("Save changes")])])],1),e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"error",block:"",loading:t.loading},on:{click:function(e){return t.discardChanges()}}},[e("b",[t._v("Discard changes")])])],1)],1):t._e()],2)],1)],1)},_e=[];s("13d5");const Ce="account-service/accounts/user/",xe="account-service/skill-proficiencies",we="account-service/job-positions",Se="account-service/working-experience/";var Ie={name:"WorkingExperienceCard",props:{userId:Number,editable:Boolean},data(){return{valid:!0,experience:[],editing:!1,rules:{required:t=>!!t||"Field is required.",nonEmptyArray:t=>t.length>0||"You must select at least one skill."},labels:["Junior","Medior","Senior"],skills:[],startDateMenu:[],endDateMenu:[],startDateMenuEditing:!1,endDateMenuEditing:!1,newElement:{id:0,startDate:"",endDate:"",seniority:0,positionTitle:"",positionId:0,skills:[]},jobPositions:[],loading:!1}},mounted:function(){this.getUserAccount(),this.getAllSkills(),this.getAllJobPositions()},methods:{getUserAccount(){console.log("get experience"),this.axios.get(Ce+this.userId).then(t=>{this.experience=t.data.workingExperience.sort(this.experienceSort),this.experience.forEach(t=>{t.startDate=this.convertToDateString(t.startDate),t.endDate=this.convertToDateString(t.endDate),t.seniority=t.seniority+1})})},getAllSkills(){console.log("get all skills"),this.axios.get(xe).then(t=>{this.skills=t.data}).catch(t=>{this.$root.snackbar.error(t.response.data.message)})},getAllJobPositions(){console.log("get all job positions"),this.axios.get(we).then(t=>{this.jobPositions=t.data}).catch(t=>{this.$root.snackbar.error(t.response.data.message)})},addItem(t){if(console.log(t),this.$refs.form.validate(),!this.valid)return;let e=this.convertToLong(t.startDate),s=this.convertToLong(t.endDate);if(-1!=s&&s<e)return void this.$root.snackbar.error("End date must be after start date");let a=1;0!=this.experience.length&&(a=this.experience.reduce((t,e)=>t.id>e.id?t:e).id);const i=Object.assign({},t);i.id=a+1,i.positionTitle=this.jobPositions.find(t=>t.id===i.positionId).title,this.newElement.id=0,this.newElement.seniority=1,this.newElement.positionTitle="",this.newElement.positionId=0,this.newElement.startDate="",this.newElement.endDate="",this.newElement.skills=[],this.experience.push(i),this.$refs.form.resetValidation()},deleteItem(t){console.log("delete item "+t),this.experience=this.experience.filter(e=>e.id!=t)},startEditing(){this.snapshot=[],this.experience.forEach(t=>{this.snapshot.push(Object.assign({},t))}),this.editing=!0},saveChanges(){this.loading=!0;let t=this.experience.map(t=>{const e={...t,startDate:this.convertToLong(t.startDate),endDate:this.convertToLong(t.endDate),seniority:t.seniority-1};return console.log(e),e});this.axios({url:Se+this.userId,data:t,method:"PUT"}).then(()=>{this.editing=!1,this.loading=!1,this.$root.snackbar.success("Successfully updated working experience")}).catch(t=>{console.log(t),this.loading=!1,this.$root.snackbar.error(t.response.data)})},discardChanges(){this.experiences=Object.assign([],this.snapshot),this.snapshot=[],this.editing=!1},convertToDateString(t){return-1==t?"":Ft()(t).format("YYYY-MM-DD")},convertToLong(t){if(!t)return-1;const e=Ft()(t,"YYYY-MM-DD").toDate();return e.getTime()},experienceSort:function(t,e){return e.startDate-t.startDate}}},Ee=Ie,je=(s("4e59"),Object(f["a"])(Ee,ye,_e,!1,null,"f9201a16",null)),De=je.exports,Ne={name:"WorkingExperienceView",components:{WorkingExperienceCard:De},data(){return{userId:localStorage.getItem("id")}}},Pe=Ne,Oe=(s("6d38"),Object(f["a"])(Pe,ve,ke,!1,null,"6f6c3a4a",null)),$e=Oe.exports,Me=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"8"}},[e(D["a"],{staticClass:"mt-10"},[e(N["c"],{staticClass:"description ml-1"},[e(w["a"],[t._v("My education")])],1),e(N["b"],[e(I["a"],[e("education-card",{attrs:{userId:t.userId,editable:!0}})],1)],1)],1)],1)],1)],1)},Le=[],Te=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{"fill-height":"",align:"center",justify:"center"}},[e(P["a"],{ref:"form",staticStyle:{flex:"1"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(yt["a"],[t._l(t.education,(function(s,a){return e("div",{key:s.id},[e(D["a"],{staticClass:"mb-5 card-color",attrs:{elevation:"0"}},[e(Ct["a"],[e(xt["b"],[e(xt["d"],{staticClass:"position-title",domProps:{textContent:t._s(s.school)}})],1)],1),e(Ct["a"],[e(xt["b"],{staticStyle:{flex:"2"}},[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto",disabled:!t.editing},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(O["a"],t._g(t._b({staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"Start date","prepend-icon":"mdi-calendar",rules:[t.rules.required]},model:{value:s.startDate,callback:function(e){t.$set(s,"startDate",e)},expression:"e.startDate"}},"v-text-field",i,!1),a))]}}],null,!0),model:{value:t.startDateMenu[a],callback:function(e){t.$set(t.startDateMenu,a,e)},expression:"startDateMenu[idx]"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},on:{input:function(e){t.startDateMenu[a]=!1}},model:{value:s.startDate,callback:function(e){t.$set(s,"startDate",e)},expression:"e.startDate"}})],1)],1),e(xt["b"],{staticStyle:{flex:"2"}},[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto",disabled:!t.editing},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(O["a"],t._g(t._b({staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"End date","prepend-icon":"mdi-calendar"},model:{value:s.endDate,callback:function(e){t.$set(s,"endDate",e)},expression:"e.endDate"}},"v-text-field",i,!1),a))]}}],null,!0),model:{value:t.endDateMenu[a],callback:function(e){t.$set(t.endDateMenu,a,e)},expression:"endDateMenu[idx]"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},on:{input:function(e){t.endDateMenu[a]=!1}},model:{value:s.endDate,callback:function(e){t.$set(s,"endDate",e)},expression:"e.endDate"}})],1)],1)],1),e(Ct["a"],[e(xt["b"],{staticStyle:{flex:"4"}},[e(se["a"],{attrs:{items:t.fieldsOfStudy,"item-text":"text","item-value":"id","return-object":"",placeholder:"Field of study",readonly:!t.editing,rules:[t.rules.required],"prepend-icon":"mdi-account-school"},model:{value:s.fieldOfStudy,callback:function(e){t.$set(s,"fieldOfStudy",e)},expression:"e.fieldOfStudy"}})],1),e(St["a"],[e(r["a"],{attrs:{disabled:!t.editing,icon:""},on:{click:function(e){return t.deleteItem(s.id)}}},[e(c["a"],{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[t._v(" mdi-delete ")])],1)],1)],1)],1)],1)})),t.editing?e("div",[e(D["a"],{staticClass:"mb-5 card-color",attrs:{elevation:"0"}},[e(Ct["a"],[e(xt["b"],{staticStyle:{flex:"2"}},[e(O["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"School","prepend-icon":"mdi-school",rules:[t.rules.required]},model:{value:t.newElement.school,callback:function(e){t.$set(t.newElement,"school",e)},expression:"newElement.school"}})],1)],1),e(Ct["a"],[e(xt["b"],{staticStyle:{flex:"2"}},[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(O["a"],t._g(t._b({staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"Start date","prepend-icon":"mdi-calendar",readonly:"",rules:[t.rules.required]},model:{value:t.newElement.startDate,callback:function(e){t.$set(t.newElement,"startDate",e)},expression:"newElement.startDate"}},"v-text-field",a,!1),s))]}}],null,!1,3293310912),model:{value:t.startDateMenuEditing,callback:function(e){t.startDateMenuEditing=e},expression:"startDateMenuEditing"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},on:{input:function(e){t.startDateMenuEditing=!1}},model:{value:t.newElement.startDate,callback:function(e){t.$set(t.newElement,"startDate",e)},expression:"newElement.startDate"}})],1)],1),e(xt["b"],{staticStyle:{flex:"2"}},[e(G["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(O["a"],t._g(t._b({staticClass:"description",staticStyle:{"font-size":"18px"},attrs:{label:"End date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.newElement.endDate,callback:function(e){t.$set(t.newElement,"endDate",e)},expression:"newElement.endDate"}},"v-text-field",a,!1),s))]}}],null,!1,2376016151),model:{value:t.endDateMenuEditing,callback:function(e){t.endDateMenuEditing=e},expression:"endDateMenuEditing"}},[e(W["a"],{staticClass:"description",staticStyle:{"font-size":"18px"},on:{input:function(e){t.endDateMenuEditing=!1}},model:{value:t.newElement.endDate,callback:function(e){t.$set(t.newElement,"endDate",e)},expression:"newElement.endDate"}})],1)],1)],1),e(Ct["a"],[e(xt["b"],[e(se["a"],{attrs:{items:t.fieldsOfStudy,placeholder:"Field of study",rules:[t.rules.required],"item-text":"text","item-value":"id","prepend-icon":"mdi-account-school"},model:{value:t.newElement.fieldOfStudy,callback:function(e){t.$set(t.newElement,"fieldOfStudy",e)},expression:"newElement.fieldOfStudy"}})],1),e(St["a"],[e(r["a"],{attrs:{icon:""},on:{click:function(e){return t.addItem(t.newElement)}}},[e(c["a"],{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}]},[t._v(" mdi-check ")])],1)],1)],1)],1)],1):t._e(),t.editable&&!t.editing?e(I["a"],[e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"#8C9EFF",block:"",loading:t.loading},on:{click:function(e){return t.startEditing()}}},[e("b",[t._v("Edit details")])])],1)],1):t._e(),t.editable&&t.editing?e(I["a"],[e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"success",block:"",loading:t.loading},on:{click:function(e){return t.saveChanges()}}},[e("b",[t._v("Save changes")])])],1),e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"error",block:"",loading:t.loading},on:{click:function(e){return t.discardChanges()}}},[e("b",[t._v("Discard changes")])])],1)],1):t._e()],2)],1)],1)},ze=[];const Ue="account-service/education/";var qe={name:"EducationCard",props:{userId:Number,editable:Boolean},data(){return{valid:!0,education:[],startDateMenu:[],endDateMenu:[],startDateMenuEditing:!1,endDateMenuEditing:!1,fieldsOfStudy:[{text:"Bachelor",id:1},{text:"Master",id:2},{text:"PhD",id:3}],rules:{required:t=>!!t||"Field is required."},editing:!1,newElement:{id:0,school:"",fieldOfStudy:0,startDate:"",endDate:""},loading:!1}},mounted:function(){this.getUserEducation()},methods:{getUserEducation(){this.axios.get(Ue+this.userId).then(t=>{console.log(t),this.education=t.data,this.education=this.education.sort(this.educationSort),this.education.forEach(t=>{t.startDate=this.convertToDateString(t.startDate),t.endDate=this.convertToDateString(t.endDate),t.fieldOfStudy=t.fieldOfStudy+1})}).catch(t=>{console.log(t)})},addItem(t){if(this.$refs.form.validate(),!this.valid)return;let e=this.convertToLong(t.startDate),s=this.convertToLong(t.endDate);if(-1!=s&&s<e)return void this.$root.snackbar.error("End date must be after start date");let a=1;0!=this.education.length&&(a=this.education.reduce((t,e)=>t.id>e.id?t:e).id);const i=Object.assign({},t);i.id=a+1,this.newElement.id=0,this.newElement.school="",this.newElement.fieldOfStudy=0,this.newElement.startDate="",this.newElement.endDate="",this.education.push(i),this.$refs.form.resetValidation()},saveChanges(){this.loading=!0;let t=this.education.map(t=>{const e={...t,startDate:this.convertToLong(t.startDate),endDate:this.convertToLong(t.endDate),fieldOfStudy:t.fieldOfStudy-1};return e});this.axios({url:Ue+localStorage.getItem("id"),data:t,method:"PUT"}).then(()=>{this.editing=!1,this.loading=!1,this.$root.snackbar.success("Successfully updated education")}).catch(t=>{this.loading=!1,this.$root.snackbar.error(t.response.data)})},deleteItem(t){console.log("delete item "+t),this.education=this.education.filter(e=>e.id!=t)},startEditing(){this.snapshot=[],this.education.forEach(t=>{this.snapshot.push(Object.assign({},t))}),this.editing=!0},discardChanges(){this.education=Object.assign([],this.snapshot),this.snapshot=[],this.editing=!1},convertToDateString(t){return-1==t?"":Ft()(t).format("YYYY-MM-DD")},convertToLong(t){if(!t)return-1;const e=Ft()(t,"YYYY-MM-DD").toDate();return e.getTime()},educationSort:function(t,e){return e.startDate-t.startDate}}},Re=qe,Ae=(s("64d5"),Object(f["a"])(Re,Te,ze,!1,null,"61e8464e",null)),Ve=Ae.exports,Fe={name:"EducationView",components:{EducationCard:Ve},data(){return{userId:localStorage.getItem("id")}}},Be=Fe,Ye=(s("3ff7"),Object(f["a"])(Be,Me,Le,!1,null,null,null)),We=Ye.exports,Ge=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"8"}},[e(D["a"],{staticClass:"mt-10"},[e(N["c"],{staticClass:"description ml-1"},[e(w["a"],[t._v("My biography")])],1),e(N["b"],[e(I["a"],[e("biography-card",{attrs:{userId:t.userId,editable:!0}})],1)],1)],1)],1)],1)],1)},Je=[],He=s("a844"),Ke=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{"fill-height":"",align:"center",justify:"center"}},[e(P["a"],{ref:"form",staticStyle:{flex:"1"}},[e(He["a"],{staticClass:"card-text ml-4 mr-4",attrs:{label:"Biography...","full-width":"",rows:"6","single-line":"",readonly:!t.editing},model:{value:t.biography,callback:function(e){t.biography=e},expression:"biography"}}),t.editable&&!t.editing?e(I["a"],[e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"#8C9EFF",block:"",loading:t.loading},on:{click:function(e){return t.startEditing()}}},[e("b",[t._v("Edit details")])])],1)],1):t._e(),t.editable&&t.editing?e(I["a"],[e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"success",block:"",loading:t.loading},on:{click:function(e){return t.saveChanges()}}},[e("b",[t._v("Save changes")])])],1),e(w["a"],[e(r["a"],{staticClass:"description",staticStyle:{"font-size":"15px"},attrs:{color:"error",block:"",loading:t.loading},on:{click:function(e){return t.discardChanges()}}},[e("b",[t._v("Discard changes")])])],1)],1):t._e()],1)],1)},Qe=[];const Ze="account-service/accounts/user/";var Xe={name:"BiographyCard",props:{userId:Number,editable:Boolean},data(){return{biography:"",newBiography:"",snapshot:"",loading:!1,editing:!1}},mounted:function(){this.getUserAccount()},methods:{getUserAccount(){this.axios.get(Ze+this.userId).then(t=>{this.biography=t.data.biography})},startEditing(){this.snapshot=this.biography,this.editing=!0},discardChanges(){this.biography=this.snapshot,this.snapshot="",this.editing=!1},saveChanges(){this.loading=!0,this.axios({url:Ze+this.userId+"/biography",data:{biography:this.biography},method:"PUT"}).then(()=>{this.editing=!1,this.loading=!1,this.$root.snackbar.success("Successfully updated biography")}).catch(t=>{this.loading=!1,this.$root.snackbar.error(t.response.data)})}}},ts=Xe,es=(s("e4a9"),Object(f["a"])(ts,Ke,Qe,!1,null,"a7bab1f4",null)),ss=es.exports,as={name:"BiographyView",components:{BiographyCard:ss},data(){return{userId:localStorage.getItem("id")}}},is=as,ns=(s("eefd"),Object(f["a"])(is,Ge,Je,!1,null,"2c3fc5ea",null)),os=ns.exports,rs=s("b73d"),cs=s("71a3"),ls=s("c671"),ds=s("fe57"),us=s("aac8"),hs=s("9a96"),ms=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"8"}},[e(D["a"],{staticClass:"mt-10",attrs:{"min-height":"900px"}},[e(N["c"],{staticClass:"description ml-1"},[e("persona-avatar",{attrs:{size:100,fullname:t.firstName+" "+t.lastName}}),e(xt["b"],{staticClass:"ml-5"},[e("div",{staticClass:"profile-title"},[t._v(t._s(t.firstName)+" "+t._s(t.lastName))]),e("div",{staticClass:"profile-subtitle"},[t._v("@"+t._s(t.username))]),e("div",{staticClass:"profile-subtitle"},[t._v(" "+t._s(t.connectionNumber)+" connections ")])]),t.checkIfLoggedInUser()?t._e():e(xt["b"],[e("span",{staticClass:"mt-10"},[e(r["a"],{staticClass:"mr-5",attrs:{color:"#8C9EFF",elevation:"2",height:"40px",width:"100px",outlined:!(!t.userConnected&&!t.requestPending),disabled:t.requestPending},on:{click:function(e){t.userConnected?t.unfollow():t.follow()}}},[e("b",[t._v(t._s(t.requestPending?"PENDING":t.userConnected?"UNFOLLOW":"FOLLOW"))])]),e(r["a"],{staticClass:"mr-5",attrs:{disabled:!t.userConnected,color:"#8C9EFF",elevation:"2",height:"40px",width:"100px"},on:{click:function(e){return t.redirectToConnection()}}},[e("b",[t._v("MESSAGE")])]),t.userConnected&&void 0!==t.userInitiallyMutedMessages&&void 0!==t.userInitiallyMutedPosts?[e("settings-menu",{attrs:{accountId:t.accountId,initialMuteMessages:t.userInitiallyMutedMessages,initialMutePosts:t.userInitiallyMutedPosts,onChangeSwitch:t.handleSwitchChanged,onBlockUser:t.handleUserBlocked}})]:t._e()],2)]),t.isCurrentUser()?[e("span",{staticClass:"mr-5"},[e(rs["a"],{attrs:{color:"#8C9EFF",label:"Public account"},model:{value:t.publicAccount,callback:function(e){t.publicAccount=e},expression:"publicAccount"}})],1)]:t._e()],2),e(gt["a"],{staticClass:"ml-5 mr-5"}),t.publicAccount||t.userConnected||t.isCurrentUser()?e(N["b"],[e(ds["a"],{attrs:{centered:"","icons-and-text":"",color:"#8C9EFF"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(hs["a"]),e(cs["a"],[t._v(" Posts "),e(c["a"],[t._v("mdi-card-text-outline")])],1),e(cs["a"],[t._v(" About "),e(c["a"],[t._v("mdi-account-outline")])],1),e(cs["a"],[t._v(" Education "),e(c["a"],[t._v("mdi-account-school-outline")])],1),e(cs["a"],[t._v(" Skills "),e(c["a"],[t._v("mdi-lightbulb-on-outline")])],1),e(cs["a"],[t._v(" Experience "),e(c["a"],[t._v("mdi-briefcase-outline")])],1)],1),e(us["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(ls["a"],[e("post-view",{attrs:{userId:t.id}})],1),e(ls["a"],[e("account-form",{attrs:{userId:t.id,editable:!1}}),e("div",{staticClass:"mr-3 ml-3"},[e("div",{staticClass:"biography mt-2"},[t._v("Biography")]),e("biography-card",{attrs:{userId:t.id,editable:!1}})],1)],1),e(ls["a"],[e("education-card",{attrs:{userId:t.id,editable:!1}})],1),e(ls["a"],[e("skill-card",{attrs:{userId:t.id,editable:!1}})],1),e(ls["a"],[e("working-experience-card",{attrs:{userId:t.id,editable:!1}})],1)],1)],1):e(N["b"],[e("div",{staticClass:"flex-parent"},[e("span",{staticClass:"circle"},[e(c["a"],{staticClass:"flex-child",attrs:{size:"100px"}},[t._v(" mdi-lock-outline ")])],1),e("div",{staticClass:"flex-child biography mt-5"},[t._v(" This is a private account ")])])])],1)],1)],1)],1)},fs=[],ps=s("ffd1"),gs=s("1800"),bs=function(){var t=this,e=t._self._c;return e(G["a"],{attrs:{bottom:"",right:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(r["a"],t._g(t._b({attrs:{icon:""}},"v-btn",a,!1),s),[e(c["a"],[t._v("mdi-dots-vertical")])],1)]}}])},[e(yt["a"],{staticClass:"text"},[e(Ct["a"],[e(gs["a"],[e(rs["a"],{attrs:{disabled:t.loading,loading:t.loading,color:"#8C9EFF"},model:{value:t.muteMessages,callback:function(e){t.muteMessages=e},expression:"muteMessages"}})],1),e(xt["d"],[t._v("Mute messages")])],1),e(Ct["a"],[e(gs["a"],[e(rs["a"],{attrs:{disabled:t.disabled,loading:t.loading,color:"#8C9EFF"},model:{value:t.mutePosts,callback:function(e){t.mutePosts=e},expression:"mutePosts"}})],1),e(xt["d"],[t._v("Mute posts")])],1),e(gt["a"]),e(Ct["a"],[e(r["a"],{attrs:{elevation:"0",color:"white",disabled:t.loadingBlocked,loading:t.loadingBlocked},on:{click:t.userBlocked}},[e(c["a"],{staticClass:"pr-5",attrs:{color:"red"}},[t._v("mdi-account-cancel")]),e("span",{staticClass:"danger"},[t._v("Block this account")])],1)],1)],1)],1)},vs=[],ks={name:"ConnectionList",props:{initialMuteMessages:{type:Boolean,default:!1},initialMutePosts:{type:Boolean,default:!1},onChangeSwitch:{type:Function,default:void 0},onBlockUser:{type:Function,default:void 0},accountId:Number},data(){return{muteMessages:this.initialMuteMessages,mutePosts:this.initialMutePosts,loading:!1,loadingBlocked:!1}},watch:{muteMessages(){this.loading=!0,this.onChangeSwitch("messages").then(()=>{this.loading=!1}).catch(()=>{this.loading=!1,this.$root.snackbar.error("Something went wrong")})},mutePosts(){this.loading=!0,this.onChangeSwitch("posts").then(()=>{this.loading=!1}).catch(()=>{this.loading=!1,this.$root.snackbar.error("Something went wrong")})}},methods:{userBlocked(){this.loadingBlocked=!0,this.onBlockUser()}}},ys=ks,_s=(s("0f85"),Object(f["a"])(ys,bs,vs,!1,null,null,null)),Cs=_s.exports,xs=function(){var t=this,e=t._self._c;return e("post-list",{attrs:{posts:t.posts,allowCreatingPosts:!1}})},ws=[],Ss=function(){var t=this,e=t._self._c;return e(S["a"],{class:t.allowCreatingPosts?"post-container":"view-container",attrs:{fluid:""}},[t.allowCreatingPosts?e("create-post"):t._e(),t._l(t.posts,(function(s,a){return[e("post",t._b({key:a,attrs:{postWidth:t.allowCreatingPosts?"40":"80"}},"post",s,!1))]}))],2)},Is=[],Es=function(){var t=this,e=t._self._c;return e(D["a"],{staticClass:"mt-2 mb-2 pa-1 elevation-4",attrs:{color:"white",width:t.postWidth+"%"}},[e(N["c"],[e(ae["a"],[e("persona-avatar",{attrs:{fullname:t.firstName+" "+t.lastName}})],1),e(xt["b"],[e(xt["d"],{staticClass:"text-h6 my-font"},[t._v(" "+t._s(t.firstName)+" "+t._s(t.lastName)+" ")])],1)],1),e(N["b"],{staticClass:"card-content my-font font-weight-bold text-justify"},[e("span",{domProps:{innerHTML:t._s(t.renderContent())}}),t.contentShouldWrap?e("span",{staticClass:"see-more",on:{click:function(e){return t.toggleShowContent()}}},[t._v(t._s(this.showFullContent?"...see less":"...see more"))]):t._e()]),t.image?e(vt["a"],{attrs:{src:t.convertImage()}}):t._e(),e(N["a"],[e(Ct["a"],{staticClass:"grow"},[e(I["a"],{attrs:{align:"center",justify:"start"}},[e(r["a"],{staticClass:"mr-1",attrs:{disabled:!t.userIsLoggedIn(),icon:""},on:{click:function(e){return t.thumbsUp()}}},[e(c["a"],[t._v(" "+t._s(t.userLikesPostStatus?"mdi-thumb-up":"mdi-thumb-up-outline")+" ")])],1),e("span",{staticClass:"subheading mr-4"},[t._v(t._s(t.postLikes))]),e(r["a"],{staticClass:"mr-1",attrs:{disabled:!t.userIsLoggedIn(),icon:""},on:{click:function(e){return t.thumbsDown()}}},[e(c["a"],[t._v(" "+t._s(t.userDislikesPostStatus?"mdi-thumb-down":"mdi-thumb-down-outline")+" ")])],1),e("span",{staticClass:"subheading mr-4"},[t._v(t._s(t.postDislikes))]),e(dt["a"]),e(r["a"],{staticClass:"mr-1",attrs:{icon:""},on:{click:function(e){return t.toggleShowComments()}}},[e(c["a"],[t._v(" "+t._s(t.showComments?"mdi-comment":"mdi-comment-outline")+" ")])],1),e("span",{staticClass:"subheading"},[t._v(t._s(t.comments.length))])],1)],1)],1),t.showComments?e("comment-list",{staticClass:"comment-section",attrs:{comments:t.comments,postId:t.id}}):t._e()],1)},js=[],Ds=s("9139"),Ns=Ds["a"],Ps=(s("f462"),Object(f["a"])(Ns,Es,js,!1,null,"688cdc1b",null)),Os=Ps.exports,$s=s("169a"),Ms=s("ce87"),Ls=s("a797"),Ts=function(){var t=this,e=t._self._c;return e(D["a"],{staticClass:"mt-2 mb-2 pa-1",attrs:{color:"white",width:"40%"}},[e(N["b"],{staticClass:"card-content my-font font-weight-bold"},[e(I["a"],{staticClass:"mt-2",attrs:{"no-gutters":"",dense:""}},[e(w["a"],{attrs:{cols:"12"}},[e(He["a"],{staticClass:"chat-field",attrs:{rows:"3",filled:"",rounded:"","no-resize":"",placeholder:"What's on your mind?"},model:{value:t.postContent,callback:function(e){t.postContent=e},expression:"postContent"}})],1)],1),0!==t.pictures.length?e(I["a"],{staticClass:"ml-1"},t._l(t.pictures,(function(s,a){return e("div",{key:a,staticClass:"mr-1 mt-1"},[e(Ms["a"],{scopedSlots:t._u([{key:"default",fn:function({hover:i}){return[e(vt["a"],{staticClass:"image-placerholder",attrs:{src:s,"min-height":"100","max-height":"100","min-width":"150","max-width":"150"}},[e(Ls["a"],{attrs:{absolute:!0,value:i,opacity:"0.3"}},[e(r["a"],{attrs:{color:"white","x-large":"",icon:""},on:{click:function(e){return t.removePicture(a)}}},[e(c["a"],[t._v("mdi-close-circle-outline")])],1)],1)],1)]}}],null,!0)})],1)})),0):t._e()],1),e(N["a"],[e(Ct["a"],{staticClass:"grow"},[e(I["a"],{attrs:{align:"center",justify:"start"}},[e(r["a"],{staticClass:"mr-5 ml-2",attrs:{outlined:"",loading:t.isSelectingPic},on:{click:t.handleFileImport}},[e(c["a"],{staticClass:"mr-2"},[t._v("mdi-file-image-plus")]),e("span",[t._v("Add image")])],1),e("input",{ref:"uploader",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChanged}}),e($s["a"],{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(r["a"],t._g(t._b({staticClass:"mr-1",attrs:{outlined:""}},"v-btn",a,!1),s),[e(c["a"],{staticClass:"mr-2"},[t._v("mdi-link")]),e("span",[t._v("Add link")])],1)]}}]),model:{value:t.urlDialog,callback:function(e){t.urlDialog=e},expression:"urlDialog"}},[e(D["a"],[e(N["c"],[e("span",{staticClass:"text-h5"},[t._v("Add link")])]),e(N["b"],[e(S["a"],[e(I["a"],[e(w["a"],{attrs:{cols:"12"}},[e(O["a"],{attrs:{label:"Text",required:""},model:{value:t.urlText,callback:function(e){t.urlText=e},expression:"urlText"}})],1)],1),e(I["a"],[e(w["a"],{attrs:{cols:"12"}},[e(O["a"],{attrs:{label:"Url",required:""},model:{value:t.urlAddress,callback:function(e){t.urlAddress=e},expression:"urlAddress"}})],1)],1)],1)],1),e(N["a"],[e(dt["a"]),e(r["a"],{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.urlDialog=!1}}},[t._v(" Close ")]),e(r["a"],{attrs:{color:"blue darken-1",text:""},on:{click:t.addLink}},[t._v(" Save ")])],1)],1)],1),e(dt["a"]),e(r["a"],{staticClass:"mr-2",attrs:{color:"indigo accent-1",outlined:""},on:{click:function(e){return t.submitPost()}}},[t._v(" Post "),e(c["a"],{staticClass:"send-icon ml-2 mr-0"},[t._v("mdi-send")])],1)],1)],1)],1)],1)},zs=[];const Us="post-service/posts",qs="account-service/connections/",Rs="account-service/connections/check-muted-posts/";var As={name:"CreatePost",components:{},data(){return{postContent:"",urlDialog:!1,urlText:"",urlAddress:"",isSelectingPic:!1,pictures:[],pictureData:[],showPictureOverlay:[],userId:localStorage.getItem("id")}},methods:{submitPost:async function(){if(0===this.postContent.length)return;const t=await this.getNonMutedConnections();let e={userId:Number(this.userId),text:this.postContent,usersToNotify:t},s=new FormData;s.append("body",new Blob([JSON.stringify(e)],{type:"application/json"}));let a={};a=this.pictures.length?this.pictures[0]:new Blob,s.append("picture",new Blob([a])),this.axios.post(Us,s,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.$router.push({name:"ProfileView",params:{id:this.userId}})})},handleFileImport:function(){this.isSelectingPic=!0,window.addEventListener("focus",()=>{this.isSelectingPic=!1},{once:!0}),this.$refs.uploader.click()},onFileChanged:function(t){let e=t.target.files[0];if(!e.type.match("image.*"))return;this.pictureData.push(e);let s=new FileReader;s.onload=t=>{this.pictures.push(t.target.result),console.log(t.target.result)},s.readAsDataURL(e)},removePicture:function(t){this.pictures=[...this.pictures.slice(0,t),...this.pictures.slice(t+1)],this.pictureData=[...this.pictureData.slice(0,t),...this.pictureData.slice(t+1)]},cancelAddLink:function(){this.urlDialog=!1,this.urlText="",this.urlAddress=""},addLink:function(){const t=` [${this.urlText}|${this.urlAddress}]`;this.postContent=this.postContent+t,this.urlDialog=!1,this.urlText="",this.urlAddress=""},async getNonMutedConnections(){const t=(await this.axios.get(qs+this.userId)).data.map(t=>t.userConnectionId),e=[];t.forEach(t=>{e.push(this.axios.get(Rs+t+"/"+this.userId))});const s=await Promise.all(e),a=[];return s.forEach((e,s)=>{e.data||a.push(t[s])}),console.log(a),a}}},Vs=As,Fs=(s("a7de"),Object(f["a"])(Vs,Ts,zs,!1,null,"0c6f3228",null)),Bs=Fs.exports,Ys={name:"PostList",components:{Post:Os,CreatePost:Bs},props:{posts:Array,allowCreatingPosts:Boolean},data(){return{}}},Ws=Ys,Gs=(s("8c85"),Object(f["a"])(Ws,Ss,Is,!1,null,"c2dc3dde",null)),Js=Gs.exports;const Hs="account-service/connections/",Ks="auth-service/authentication/users/ids",Qs="post-service/posts/all";var Zs={name:"PostView",props:{userId:Number},components:{PostList:Js},data:function(){return{posts:[],loggedInUserId:localStorage.getItem("id")}},async mounted(){this.getFeed()},watch:{userId(){this.getFeed()}},methods:{async getFeed(){const t=await this.getBlockedAccounts(),e=t.data.map(t=>t.userId),s=await this.getPosts([this.userId]),a=s.data,i=[this.userId];a.forEach(t=>{t.comments.forEach(t=>{i.includes(t.userId)||i.push(t.userId)})});const n=await this.getUsers(i),o=n.data;this.posts=a.map(t=>{let s=o.find(e=>e.id==t.userId);const a=s.firstName,i=s.lastName,n=t.comments.filter(t=>!e.includes(t.userId)),r=n.map(t=>{let e=o.find(e=>e.id==t.userId);const s=e.firstName,a=e.lastName;return{...t,firstName:s,lastName:a}});return{...t,firstName:a,lastName:i,comments:r}})},async getPosts(t){return this.axios.post(Qs,{ids:t,loggedInUserId:this.loggedInUserId})},async getBlockedAccounts(){return this.axios.get(Hs+this.userId+"/blocked-accounts")},async getConnections(){return this.axios.get(Hs+this.userId)},async getUsers(t){return this.axios.post(Ks,{ids:t})}}},Xs=Zs,ta=(s("6b2d"),Object(f["a"])(Xs,xs,ws,!1,null,"48267372",null)),ea=ta.exports;const sa="auth-service/authentication/users/",aa="account-service/accounts/user/",ia="account-service/connections/",na="account-service/accounts/privacy/";var oa={name:"ProfileView",components:{PersonaAvatar:ps["a"],AccountForm:Ht,EducationCard:Ve,SkillCard:me,WorkingExperienceCard:De,BiographyCard:ss,SettingsMenu:Cs,PostView:ea},data(){return{username:"",firstName:"",lastName:"",biography:"",publicAccount:void 0,tab:null,accountId:"",connectionNumber:0,userConnected:!0,requestPending:!1,userInitiallyMutedMessages:void 0,userInitiallyMutedPosts:void 0}},props:{id:String},mounted:function(){this.getUserInfo(),this.getUserAccountId(),this.getConnections(),this.checkIfUserConnected()},watch:{id(){this.getUserInfo(),this.getUserAccountId(),this.getConnections(),this.checkIfUserConnected()},publicAccount(t,e){void 0!==e&&this.axios.put(na+this.id)}},methods:{getUserInfo(){this.axios.get(sa+this.id).then(t=>{this.username=t.data.username,this.firstName=t.data.firstName,this.lastName=t.data.lastName,this.userId=t.data.id}).catch(t=>{this.$root.snackbar.error(t.response.data.message)})},checkIfUserConnected(){const t=localStorage.getItem("id");t!==this.id?this.axios.get(ia+"check-connected/"+t+"/"+this.id).then(t=>{1==t.data?(this.userConnected=!0,this.checkIfConnectionMuted()):2==t.data?(this.userConnected=!1,this.requestPending=!0):(this.userConnected=!1,this.requestPending=!1)}).catch(t=>{this.$root.snackbar.error(t.response.data.message)}):this.userConnected=!0},checkIfConnectionMuted(){const t=localStorage.getItem("id");t!==this.id&&(this.axios.get(ia+"check-muted-posts/"+t+"/"+this.id).then(t=>{this.userInitiallyMutedPosts=t.data}).catch(t=>{this.$root.snackbar.error(t.response.data.message)}),this.axios.get(ia+"check-muted-messages/"+t+"/"+this.id).then(t=>{this.userInitiallyMutedMessages=t.data}).catch(t=>{this.$root.snackbar.error(t.response.data.message)}))},getUserAccountId(){console.log("get experience"),this.axios.get(aa+this.id).then(t=>{this.publicAccount=t.data.publicAccount,this.accountId=t.data.id}).catch(()=>{this.$root.snackbar.error()})},getConnections(){this.axios.get(ia+this.id).then(t=>{this.connectionNumber=t.data.length}).catch(()=>{this.$root.snackbar.error("Something went wrong")})},checkIfLoggedInUser(){return this.id===localStorage.getItem("id")},async handleSwitchChanged(t){const e=localStorage.getItem("id"),s="messages"===t?"mute-messages":"mute-posts";return this.axios.put(`${ia}${s}/${e}/${this.id}`)},async handleUserBlocked(){const t=localStorage.getItem("id");return this.axios.put(`${ia}block/${t}/${this.id}`).then(()=>{this.$router.push({name:"BlockedConnectionsView"})})},follow(){const t=localStorage.getItem("id");this.axios.put(ia+"follow/"+t+"/"+this.userId).then(t=>{let e=t.data;e?(this.userConnected=!0,this.getConnections(),this.checkIfUserConnected()):this.requestPending=!0}).catch(()=>{this.$root.snackbar.error("Something went wrong")})},unfollow(){const t=localStorage.getItem("id");this.axios.put(ia+"unfollow/"+t+"/"+this.userId).then(t=>{console.log(t.data),this.userConnected=!1,this.getConnections(),this.checkIfUserConnected()}).catch(()=>{this.$root.snackbar.error("Something went wrong")})},redirectToConnection(){this.$router.push({name:"ChatRoom",params:{recipientId:this.id}})},isCurrentUser(){return console.log("ISCURRENT USER ",localStorage.getItem("id")==this.id),console.log(this.id),localStorage.getItem("id")==this.id&&""!=this.accountId}}},ra=oa,ca=(s("2ded"),Object(f["a"])(ra,ms,fs,!1,null,"1e893bab",null)),la=ca.exports,da=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"6"}},[e(D["a"],{staticClass:"mt-6"},[e("div",{staticClass:"description ml-8 pt-5"},[t._v("Explore connections")]),e(N["b"],[e(O["a"],{staticClass:"ma-3",attrs:{filled:"",rounded:"",elevation:"4",placeholder:"Search for connections..."},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.search())}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[e(r["a"],{staticStyle:{top:"-16px"},attrs:{fab:"",medium:"",color:"#8C9EFF",elevation:"4"},on:{click:function(e){return t.search()}}},[e(c["a"],[t._v("mdi-magnify")])],1)]},proxy:!0}]),model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),t.showResult?e(I["a"],[e("connection-list",{staticClass:"ml-3",attrs:{connections:t.users}})],1):t._e()],1)],1)],1)],1)],1)},ua=[],ha=function(){var t=this,e=t._self._c;return e(S["a"],{staticClass:"list-container",attrs:{fluid:""}},[e("div",{staticClass:"description ml-4 mt-4 mb-4"},[t._v("People")]),t.connections&&t.connections.length?t._e():e("div",{staticClass:"text ml-4 mt-12"},[t._v(" No results ")]),t.connections?e(yt["a"],{staticClass:"pr-5 scrollable-list",attrs:{"two-line":""}},[t._l(t.connections,(function(s,a){return[e(Ct["a"],{key:`${s.id}-${a}`,staticClass:"text",attrs:{ripple:""},on:{click:function(e){return t.redirect(s.id)}}},[e("persona-avatar",{staticClass:"mr-5",attrs:{size:40,fullname:s.firstName+" "+s.lastName}}),e(xt["b"],[e(xt["d"],[t._v(t._s(s.firstName)+" "+t._s(s.lastName)+" "),e("span",{staticClass:"username ml-1 pb-1"},[t._v("@"+t._s(s.username))])]),e(xt["c"],{staticStyle:{color:"black"}},[t._v(" "+t._s(s.email)+" ")])],1),e(St["a"],[t.requestEnabled?e(r["a"],{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.acceptRequest()}}},[e(c["a"],{attrs:{color:"green",size:"30"}},[t._v(" mdi-check-circle-outline ")])],1):t._e(),t.requestEnabled?e(r["a"],{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.declineRequest()}}},[e(c["a"],{attrs:{color:"red",size:"30"}},[t._v(" mdi-close-circle-outline ")])],1):t._e(),t.blockedEnabled?e(r["a"],{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.unblock(s.id)}}},[e(c["a"],{attrs:{color:"green",size:"30"}},[t._v(" mdi-account-multiple-check ")])],1):t._e(),t.requestModeEnabled?e(r["a"],{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.onRequestProcessed(s.id,!0)}}},[e(c["a"],{attrs:{color:"green",size:"30"}},[t._v(" mdi-check ")])],1):t._e(),t.requestModeEnabled?e(r["a"],{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.onRequestProcessed(s.id,!1)}}},[e(c["a"],{attrs:{color:"red",size:"30"}},[t._v(" mdi-close ")])],1):t._e()],1)],1),a!=t.connections.length-1?e(gt["a"],{key:a}):t._e()]}))],2):t._e()],1)},ma=[];const fa="account-service/connections/";var pa={name:"ConnectionList",props:{connections:[],requestModeEnabled:Boolean,redirectToPublic:{type:Boolean,default:!1},requestEnabled:{type:Boolean,default:!1},blockedEnabled:{type:Boolean,default:!1},onUserUnblocked:{type:Function,default:void 0},onRequestProcessed:{type:Function,default:void 0}},data(){return{}},methods:{unblock(t){const e=localStorage.getItem("id");this.axios.put(`${fa}unblock/${e}/${t}`).then(()=>{this.onUserUnblocked&&this.onUserUnblocked(t)})},redirect(t){if(!this.blockedEnabled){const e=this.redirectToPublic?"PublicProfileView":"ProfileView";this.$router.push({name:e,params:{id:t}})}}},components:{PersonaAvatar:ps["a"]}},ga=pa,ba=(s("3325"),Object(f["a"])(ga,ha,ma,!1,null,"0d3e879c",null)),va=ba.exports;const ka="auth-service/authentication/users/search/",ya="account-service/accounts/search";var _a={name:"ExploreConnectionsView",components:{ConnectionList:va},data(){return{userId:localStorage.getItem("id"),query:"",users:[],usersIds:[],showResult:!1}},mounted(){},methods:{search(){if(!this.query)return this.users=[],void(this.showResult=!1);this.axios.get(ka+this.query).then(t=>{this.filterIds(this.userId,t.data)}).catch(()=>{this.$root.snackbar.error()})},filterIds(t,e){this.axios.post(ya,{loggedInUserId:t,usersIds:e.map(t=>t.id)}).then(s=>{console.log(s.data),console.log(e),this.userIds=s.data,this.users=[...e.filter(e=>this.userIds.includes(e.id)&&e.id!=t)],this.showResult=!0})}}},Ca=_a,xa=(s("ee73"),Object(f["a"])(Ca,da,ua,!1,null,"e28c3866",null)),wa=xa.exports,Sa=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"6"}},[e(D["a"],{staticClass:"mt-6"},[e("div",{staticClass:"description ml-11 pt-5"},[t._v("My network")]),e(N["b"],[e("connection-list",{staticClass:"ml-3",attrs:{connections:t.users}})],1)],1)],1)],1)],1)},Ia=[];const Ea="account-service/connections/",ja="auth-service/authentication/users/ids";var Da={name:"MyConnectionsView",components:{ConnectionList:va},data(){return{userId:localStorage.getItem("id"),connectionIds:[],users:[]}},mounted(){this.getConnections()},methods:{getConnections(){this.axios.get(Ea+this.userId).then(t=>{this.connectionIds=t.data.map(t=>t.userConnectionId),console.log(this.connectionIds),this.getUsers()}).catch(()=>{this.$root.snackbar.error()})},getUsers(){this.axios({url:ja,data:{ids:this.connectionIds},method:"POST"}).then(t=>{this.users=t.data,console.log(this.users)}).catch(()=>{this.$root.snackbar.error()})}}},Na=Da,Pa=(s("702b"),Object(f["a"])(Na,Sa,Ia,!1,null,"74076c87",null)),Oa=Pa.exports,$a=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"6"}},[e(D["a"],{staticClass:"mt-6"},[e("div",{staticClass:"description ml-11 pt-5"},[t._v("Blocked accounts")]),e(N["b"],[e("connection-list",{staticClass:"ml-3",attrs:{connections:t.users,blockedEnabled:!0,onUserUnblocked:t.onUserUnblocked}})],1)],1)],1)],1)],1)},Ma=[];const La="account-service/connections/",Ta="auth-service/authentication/users/ids";var za={name:"BlockedConnectionsView",components:{ConnectionList:va},data(){return{userId:localStorage.getItem("id"),blockedAccountsIds:[],users:[]}},mounted(){this.getBlockedAccounts()},methods:{getBlockedAccounts(){this.axios.get(La+this.userId+"/blocked-accounts").then(t=>{this.blockedAccountsIds=t.data.map(t=>t.userId),this.getUsers()}).catch(()=>{this.$root.snackbar.error()})},getUsers(){this.axios({url:Ta,data:{ids:this.blockedAccountsIds},method:"POST"}).then(t=>{this.users=t.data,console.log(this.users)}).catch(()=>{this.$root.snackbar.error()})},onUserUnblocked(t){console.log("id "+t),console.log("before"),console.log(this.users),this.blockedAccountsIds=[...this.blockedAccountsIds].filter(e=>e!==t),this.users=[...this.users].filter(e=>e.id!==t),console.log("after"),console.log(this.users)}}},Ua=za,qa=(s("49f6"),Object(f["a"])(Ua,$a,Ma,!1,null,"05935cab",null)),Ra=qa.exports,Aa=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"6"}},[e(D["a"],{staticClass:"mt-6"},[e("div",{staticClass:"description ml-11 pt-5"},[t._v("Connection requests")]),e(N["b"],[e("connection-list",{staticClass:"ml-3",attrs:{connections:t.users,requestModeEnabled:!0,onRequestProcessed:t.onRequestProcessed}})],1)],1)],1)],1)],1)},Va=[];const Fa="account-service/connections/",Ba="auth-service/authentication/users/ids";var Ya={name:"ConnectionRequestsView",components:{ConnectionList:va},data(){return{userId:localStorage.getItem("id"),requests:[],senderIds:[],users:[]}},mounted(){this.getConnectionRequests()},methods:{getConnectionRequests(){this.axios.get(Fa+"connection-requests/"+this.userId).then(t=>{this.requests=t.data,this.senderIds=this.requests.map(t=>t.senderId),this.getUsers(),console.log(this.requests)})},getUsers(){this.axios({url:Ba,data:{ids:this.senderIds},method:"POST"}).then(t=>{this.users=t.data,console.log(this.users)}).catch(()=>{this.$root.snackbar.error()})},onRequestProcessed(t,e){let s=this.requests.find(e=>e.senderId===t).connectionRequestId;const a=e?"accept-connection-request/":"decline-connection-request/";this.axios.put(Fa+a+s).then(()=>{this.requests=[...this.requests.filter(t=>t.connectionRequestId!=s)],this.senderIds=this.requests.map(t=>t.senderId),this.users=[...this.users.filter(e=>e.id!=t)]})}}},Wa=Ya,Ga=(s("6957"),Object(f["a"])(Wa,Aa,Va,!1,null,"32b267a5",null)),Ja=Ga.exports,Ha=function(){var t=this,e=t._self._c;return e(D["a"],{staticClass:"card-container"},[e(S["a"],{staticClass:"content-container",attrs:{fluid:""}},[e(I["a"],{attrs:{"no-gutters":"",dense:""}},[e(w["a"],{attrs:{cols:"3"}},[e("chat-connection-list")],1),e(w["a"],{attrs:{cols:"9"}},[e("router-view")],1)],1)],1)],1)},Ka=[],Qa=function(){var t=this,e=t._self._c;return e(S["a"],{staticClass:"list-container",attrs:{fluid:""}},[e("div",{staticClass:"description ml-4 mt-2"},[t._v("Chat")]),e(yt["a"],{staticClass:"pr-5 scrollable-list",attrs:{"two-line":""}},[t._l(t.users,(function(s,a){return[e("router-link",{key:a,attrs:{to:{name:"ChatRoom",params:{recipientId:s.id}}},scopedSlots:t._u([{key:"default",fn:function({navigate:a}){return[e(Ct["a"],{staticClass:"text",attrs:{ripple:""},on:{click:a}},[e(ae["a"],[e("persona-avatar",{attrs:{size:40,fullname:s.firstName+" "+s.lastName}})],1),e(xt["b"],[e(xt["d"],[t._v(t._s(s.firstName)+" "+t._s(s.lastName))]),e(xt["c"],[t._v(" @"+t._s(s.username)+" ")])],1)],1)]}}],null,!0)}),a!=t.users.length-1?e(gt["a"],{key:"d-"+a}):t._e()]}))],2)],1)},Za=[];const Xa="account-service/connections/",ti="auth-service/authentication/users/ids";var ei={name:"ChatConnectionList",components:{PersonaAvatar:ps["a"]},data(){return{userId:localStorage.getItem("id"),connectionIds:[],users:[]}},mounted(){this.getConnections()},methods:{getConnections(){this.axios.get(Xa+this.userId).then(t=>{this.connectionIds=t.data.map(t=>t.userConnectionId),console.log(this.connectionIds),this.getUsers()}).catch(()=>{this.$root.snackbar.error()})},getUsers(){this.axios({url:ti,data:{ids:this.connectionIds},method:"POST"}).then(t=>{this.users=t.data,console.log(this.users)}).catch(()=>{this.$root.snackbar.error()})}}},si=ei,ai=(s("92ee"),Object(f["a"])(si,Qa,Za,!1,null,"4e62534c",null)),ii=ai.exports,ni={name:"ChatView",components:{ChatConnectionList:ii}},oi=ni,ri=(s("08f9"),Object(f["a"])(oi,Ha,Ka,!1,null,null,null)),ci=ri.exports,li=s("8212"),di=function(){var t=this,e=t._self._c;return t.recipientId?e(S["a"],{staticClass:"ml-5",attrs:{fluid:""}},[e("div",{staticClass:"description"},[e(li["a"],{staticClass:"mr-5 mb-2",attrs:{color:"indigo accent-1",size:"40px"}},[e("span",{staticClass:"avatar"},[t._v(t._s(t.getConnectionInitials(t.connectionName)))])]),t._v(t._s(t.connectionName)+" ")],1),e(S["a"],{ref:"list",staticClass:"scrollable-list",attrs:{fluid:""}},t._l(t.messages,(function(s,a){return e(I["a"],{key:a,staticClass:"pb-5",attrs:{justify:t.checkIfLoggedInUser(s.senderId)?"end":"start"}},[t.checkIfLoggedInUser(s.senderId)?t._e():e(li["a"],{attrs:{color:"indigo accent-1",size:"40"}},[e("span",{staticClass:"avatar"},[t._v(t._s(t.getConnectionInitials(t.connectionName)))])]),t.checkIfLoggedInUser(s.senderId)?e("span",{staticClass:"mr-5 ml-3 custom-message-chip my-font user-chip"},[t._v(" "+t._s(s.content)+" ")]):e("span",{staticClass:"mr-5 ml-3 custom-message-chip my-font connection-chip"},[t._v(" "+t._s(s.content)+" ")])],1)})),1),e(dt["a"]),e(I["a"],{staticClass:"mt-2",attrs:{"no-gutters":"",dense:""}},[e(w["a"],{attrs:{cols:"11"}},[e(He["a"],{staticClass:"chat-field",attrs:{rows:"1",filled:"",rounded:"","no-resize":""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.sendMessage())}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),e(w["a"],{attrs:{cols:"1"}},[e(r["a"],{attrs:{fab:"",color:"indigo accent-1"},on:{click:function(e){return t.sendMessage()}}},[e(c["a"],{staticClass:"send-icon"},[t._v("mdi-send")])],1)],1)],1)],1):t._e()},ui=[];const hi="messaging-service/chat-room/",mi="auth-service/authentication/users/",fi="account-service/connections/check-muted-messages/";var pi={name:"ChatRoom",props:{recipientId:String},data(){return{senderId:localStorage.getItem("id"),message:"",chatRoomId:0,switchName:!0,stompClient:{},messageData:{},messages:[],sendNotification:!1,connectionName:void 0,socket:void 0}},mounted(){this.getMessages(),this.getUserInfo(),this.checkIfMuted(),this.socket=new pt.a({debug:!0,connection:"/messaging-service/chat?room="+localStorage.getItem("id")}),this.socket.emitter.addListener("chat",(function(t){t.senderId==this.recipientId&&(console.log(this.socket),this.messages=[...this.messages,t],this.$nextTick(()=>this.scrollToEnd()))}),this)},beforeDestroy(){this.socket.io.disconnect()},watch:{recipientId:function(){this.checkIfMuted(),this.getMessages(),this.getUserInfo()}},methods:{checkIfLoggedInUser:function(t){const e=localStorage.getItem("id");return e==t},checkIfMuted(){this.axios.get(fi+this.recipientId+"/"+this.senderId).then(t=>{console.log("SHOULD MUTE MESSAGES - ",t.data),this.sendNotification=!t.data})},getMessages(){this.axios.get(hi+this.senderId+"/"+this.recipientId).then(t=>{this.messages=t.data.messages,this.chatRoomId=t.data.chatRoomId,this.$nextTick(()=>this.scrollToEnd())})},getUserInfo(){this.axios.get(mi+this.recipientId).then(t=>{this.connectionName=t.data.firstName+" "+t.data.lastName})},getConnectionInitials(t){return(null===t||void 0===t?void 0:t.split(" ").reduce((t,e)=>t+e[0],""))||""},sendMessage(){if(""===this.message)return;let t={senderId:this.senderId,recipientId:this.recipientId,content:this.message,chatId:this.chatRoomId,sendNotification:this.sendNotification};console.log(this.socket),this.socket.io.emit("chat",t),this.messages=[...this.messages,t],this.message="",this.$nextTick(()=>this.scrollToEnd())},scrollToEnd:function(){if(!this.messages.length)return;console.log(this.$refs.list);const t=this.$refs.list,e=t.lastElementChild.offsetTop;console.log(e),this.$refs.list.scrollTop=e}}},gi=pi,bi=(s("b6a7"),Object(f["a"])(gi,di,ui,!1,null,"6397c174",null)),vi=bi.exports,ki=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"6"}},[e(D["a"],{staticClass:"mt-6"},[e("div",{staticClass:"description ml-11 pt-5"},[t._v("Notifications")]),e(N["b"],[e("notification-list",{staticClass:"ml-3"})],1)],1)],1)],1)],1)},yi=[],_i=function(){var t=this,e=t._self._c;return e(yt["a"],{staticClass:"pr-5 scrollable-list",attrs:{"two-line":""}},[t._l(t.notifications,(function(s,a){return[e(Ct["a"],{key:a,staticClass:"text",attrs:{ripple:""},on:{click:function(e){return t.redirect(s)}}},[e(St["a"],[e(c["a"],{staticClass:"pt-3"},[t._v(t._s(t.getNotificationIcon(s.eventType)))])],1),e(xt["b"],[e(xt["d"],[t._v(t._s(t.getNotificationText(s.eventType))+" from "+t._s(s.firstName)+" "+t._s(s.lastName))]),e(xt["c"],[t._v(" @"+t._s(s.username)+" ")])],1),e(gs["a"],[e(xt["a"],[t._v(" "+t._s(t.formatDate(s.timestamp))+" ")])],1)],1),a!=t.notifications.length-1?e(gt["a"],{key:"d-"+a}):t._e()]}))],2)},Ci=[];const xi="/notification-service/notifications/user/",wi="auth-service/authentication/users/ids";var Si={name:"NotificationList",props:{},data(){return{userId:localStorage.getItem("id"),notifications:[],users:[]}},mounted(){this.getNotifications()},components:{},methods:{getNotifications(){this.axios.get(xi+this.userId).then(async t=>{let e=t.data.map(t=>t.senderId),s=await this.axios.post(wi,{ids:e}),a=s.data;this.notifications=t.data.map((t,e)=>({senderId:t.senderId,firstName:a[e].firstName,lastName:a[e].lastName,username:a[e].username,email:a[e].email,timestamp:t.timestamp,eventType:t.notificationType}))})},getNotificationText(t){switch(t){case"MESSAGE_SENT":return"New message ";case"NEW_POST":return"New post ";case"LIKE":return"New like ";case"COMMENT":return"New comment ";case"CONNECTION_REQUEST":return"New connection request ";case"NEW_CONNECTION":return"New connection "}},getNotificationIcon(t){switch(t){case"MESSAGE_SENT":return"mdi-email-outline";case"NEW_POST":return"mdi-note-text-outline";case"LIKE":return"mdi-thumb-up-outline";case"COMMENT":return"mdi-comment-text-outline";case"CONNECTION_REQUEST":return"mdi-account-plus-outline";case"NEW_CONNECTION":return"mdi-account-check-outline"}},formatDate(t){let e=new Date(t),s=e.toString().split("GMT")[0],a=s.split(" "),i=a.filter(t=>t);return[i[i.length-1],...i.slice(0,i.length-1)].join(" ")},redirect(t){switch(t.eventType){case"MESSAGE_SENT":this.$router.push({name:"ChatRoom",params:{recipientId:t.senderId}});break;case"NEW_POST":this.$router.push({name:"ProfileView",params:{id:t.senderId}});break;case"LIKE":case"COMMENT":this.$router.push({name:"ProfileView",params:{id:t.recipientId}});break;case"CONNECTION_REQUEST":this.$router.push({name:"ConnectionRequestsView"});break;case"NEW_CONNECTION":this.$router.push({name:"ProfileView",params:{id:t.senderId}});break}}}},Ii=Si,Ei=Object(f["a"])(Ii,_i,Ci,!1,null,null,null),ji=Ei.exports;const Di="account-service/connections/",Ni="auth-service/authentication/users/ids";var Pi={name:"NotificationsView",components:{NotificationList:ji},data(){return{userId:localStorage.getItem("id"),requests:[],senderIds:[],users:[]}},mounted(){this.getConnectionRequests()},methods:{getConnectionRequests(){this.axios.get(Di+"connection-requests/"+this.userId).then(t=>{this.requests=t.data,this.senderIds=this.requests.map(t=>t.senderId),this.getUsers(),console.log(this.requests)})},getUsers(){this.axios({url:Ni,data:{ids:this.senderIds},method:"POST"}).then(t=>{this.users=t.data,console.log(this.users)}).catch(()=>{this.$root.snackbar.error()})}}},Oi=Pi,$i=(s("72f6"),Object(f["a"])(Oi,ki,yi,!1,null,"69726fa0",null)),Mi=$i.exports,Li=function(){var t=this,e=t._self._c;return e("post-list",{attrs:{posts:t.posts,allowCreatingPosts:!0}})},Ti=[];const zi="account-service/connections/",Ui="auth-service/authentication/users/ids",qi="post-service/posts/all";var Ri={name:"FeedView",components:{PostList:Js},data:function(){return{posts:[],userId:localStorage.getItem("id")}},async mounted(){this.getFeed()},methods:{async getFeed(){const t=await this.getConnections(),e=[...t.data.map(t=>t.userConnectionId),Number(this.userId)],s=await this.getBlockedAccounts(),a=s.data.map(t=>t.userId),i=(await this.getUsers(e)).data,n=i.map(t=>t.id),o=await this.getPosts(n),r=o.data,c=[];r.forEach(t=>{t.comments.forEach(t=>{c.includes(t.userId)||c.push(t.userId)})});const l=await this.getUsers(c),d=l.data;this.posts=r.map(t=>{let e=i.find(e=>e.id==t.userId);const s=e.firstName,n=e.lastName,o=t.comments.filter(t=>!a.includes(t.userId)),r=o.map(t=>{let e=d.find(e=>e.id==t.userId);const s=e.firstName,a=e.lastName;return{...t,firstName:s,lastName:a}});return{...t,firstName:s,lastName:n,comments:r}})},async getPosts(t){return this.axios.post(qi,{ids:t,loggedInUserId:this.userId})},async getBlockedAccounts(){return this.axios.get(zi+this.userId+"/blocked-accounts")},async getConnections(){return this.axios.get(zi+this.userId)},async getUsers(t){return this.axios.post(Ui,{ids:t})}}},Ai=Ri,Vi=(s("9fca"),Object(f["a"])(Ai,Li,Ti,!1,null,"0794378a",null)),Fi=Vi.exports,Bi=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"6"}},[e(D["a"],{staticClass:"mt-6"},[e("div",{staticClass:"description ml-8 pt-5"},[t._v("Explore job offers")]),e(N["b"],[e(O["a"],{staticClass:"ma-3",attrs:{filled:"",rounded:"",elevation:"4",placeholder:"Search for job offers..."},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.search())}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[e(r["a"],{staticStyle:{top:"-16px"},attrs:{fab:"",medium:"",color:"#8C9EFF",elevation:"4"},on:{click:function(e){return t.search()}}},[e(c["a"],[t._v("mdi-magnify")])],1)]},proxy:!0}]),model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),t.showResult?e(I["a"],[e("job-offer-list",{staticClass:"ml-3",attrs:{offers:t.offers}})],1):t._e()],1)],1)],1)],1)],1)},Yi=[],Wi=function(){var t,e=this,s=e._self._c;return s(S["a"],{staticClass:"list-container",attrs:{fluid:""}},[e.offers&&null!==(t=e.offers)&&void 0!==t&&t.length?e._e():s("div",{staticClass:"text ml-4 mt-12"},[e._v(" No results ")]),e.offers?s(yt["a"],{staticClass:"pr-5 scrollable-list",attrs:{"two-line":""}},[e._l(e.offers,(function(t,a){return[s(Ct["a"],{key:t.id,on:{click:function(s){return e.redirect(t.id)}}},[s(St["a"],[s(c["a"],{attrs:{"x-large":""}},[e._v(" mdi-laptop ")])],1),s(xt["b"],[s(xt["d"],{staticClass:"mb-2"},[e._v(e._s(t.jobPositionName)+" ")]),s(xt["c"],{staticClass:"mb-2",staticStyle:{color:"black"}},[e._v(" "+e._s(t.companyName)+" ")]),s(xt["c"],{staticStyle:{color:"black"}},[e._v(" "+e._s(t.title)+" ")])],1)],1),a!=e.offers.length-1?s(gt["a"],{key:a}):e._e()]}))],2):e._e()],1)},Gi=[],Ji={name:"JobOfferList",props:{offers:[]},data(){return{}},methods:{redirect(t){this.blockedEnabled||this.$router.push({name:"JobOfferView",params:{offerId:t}})}}},Hi=Ji,Ki=(s("c0e0"),Object(f["a"])(Hi,Wi,Gi,!1,null,"7c8915ea",null)),Qi=Ki.exports;const Zi="job-offer-service/job-offer/search/";var Xi={name:"ExploreJobOffersView",components:{JobOfferList:Qi},data(){return{userId:localStorage.getItem("id"),query:"",offers:[],showResult:!1}},mounted(){},methods:{search(){if(!this.query)return this.users=[],void(this.showResult=!1);this.axios.get(Zi+this.query).then(t=>{console.log(t),this.offers=t.data,this.showResult=!0}).catch(()=>{this.$root.snackbar.error()})}}},tn=Xi,en=(s("b673"),Object(f["a"])(tn,Bi,Yi,!1,null,"14b1e3c3",null)),sn=en.exports,an=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"8"}},[void 0!==t.offer?e(D["a"],{staticClass:"mt-10",attrs:{"min-height":"900px"}},[e(N["c"],{staticClass:"description ml-1"},[e("span",{staticClass:"ml-8 mr-5"},[e(c["a"],{attrs:{"x-large":""}},[t._v(" mdi-laptop ")])],1),e(xt["b"],{staticClass:"ml-5"},[e("div",{staticClass:"profile-title"},[t._v(t._s(t.offer.title))]),e("div",{staticClass:"profile-subtitle"},[t._v(t._s(t.offer.jobPositionName))]),e("div",{staticClass:"profile-subtitle"},[t._v(" "+t._s(t.offer.companyName)+" ")])])],1),e(gt["a"],{staticClass:"ml-5 mr-5"}),e("div",{staticClass:"description ml-5 mt-5 mb-3"},[t._v("Offer details")]),e("div",{staticClass:"content ml-5 my-font",domProps:{innerHTML:t._s(t.splitDescription(t.offer.description))}}),e("div",{staticClass:"description ml-5 mt-5 mb-3"},[t._v("Company details")]),e("div",{staticClass:"content ml-5 my-font"},[e("a",{attrs:{href:t.offer.companyLink,target:"_blank"}},[t._v(" Check out our reviews and comments on Agent Application! ")])]),e("div",{staticClass:"description ml-5 mt-5 mb-3"},[t._v("Position details")]),e("div",{staticClass:"content ml-5 my-font"},[e("a",{attrs:{href:t.offer.jobPositionLink,target:"_blank"}},[t._v(" Check out the details of this position on Agent Application! ")])])],1):t._e()],1)],1)],1)},nn=[];const on="job-offer-service/job-offer/";var rn={name:"JobOfferView",props:{offerId:String},data(){return{offer:void 0}},mounted(){this.getOffer()},methods:{getOffer(){this.axios.get(on+this.offerId).then(t=>{this.offer=t.data})},splitDescription(t){return t.split("\\n").map(t=>`<span>${t}</span><br/>`).join("")}}},cn=rn,ln=(s("37b2"),Object(f["a"])(cn,an,nn,!1,null,"7de98f07",null)),dn=ln.exports,un=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"6"}},[e(D["a"],{staticClass:"mt-6"},[e("div",{staticClass:"description ml-8 pt-5"},[t._v("Search public profiles")]),e(N["b"],[e(O["a"],{staticClass:"ma-3",attrs:{filled:"",rounded:"",elevation:"4",placeholder:"Search for connections..."},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.search())}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[e(r["a"],{staticStyle:{top:"-16px"},attrs:{fab:"",medium:"",color:"#8C9EFF",elevation:"4"},on:{click:function(e){return t.search()}}},[e(c["a"],[t._v("mdi-magnify")])],1)]},proxy:!0}]),model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),t.showResult?e(I["a"],[e("connection-list",{staticClass:"ml-3",attrs:{connections:t.users,redirectToPublic:!0}})],1):t._e()],1)],1)],1)],1)],1)},hn=[];const mn="auth-service/authentication/users/search/",fn="account-service/accounts/public-search";var pn={name:"GuestView",components:{ConnectionList:va},data(){return{query:"",users:[],usersIds:[],showResult:!1}},mounted(){},methods:{search(){if(!this.query)return this.users=[],void(this.showResult=!1);this.axios.get(mn+this.query).then(t=>{this.filterIds(this.userId,t.data)}).catch(()=>{this.$root.snackbar.error()})},filterIds(t,e){this.axios.post(fn,{loggedInUserId:0,usersIds:e.map(t=>t.id)}).then(s=>{console.log(s.data),console.log(e),this.userIds=s.data,this.users=[...e.filter(e=>this.userIds.includes(e.id)&&e.id!=t)],this.showResult=!0})}}},gn=pn,bn=(s("cc78"),Object(f["a"])(gn,un,hn,!1,null,"3ad7a97e",null)),vn=bn.exports,kn=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center"}},[e(w["a"],{attrs:{cols:"8"}},[e(D["a"],{staticClass:"mt-10",attrs:{"min-height":"900px"}},[e(N["c"],{staticClass:"description ml-1"},[e("persona-avatar",{attrs:{size:100,fullname:t.firstName+" "+t.lastName}}),e(xt["b"],{staticClass:"ml-5"},[e("div",{staticClass:"profile-title"},[t._v(t._s(t.firstName)+" "+t._s(t.lastName))]),e("div",{staticClass:"profile-subtitle"},[t._v("@"+t._s(t.username))])])],1),e(gt["a"],{staticClass:"ml-5 mr-5"}),e(N["b"],[e("public-post-view",{attrs:{userId:t.id}})],1)],1)],1)],1)],1)},yn=[],_n=function(){var t=this,e=t._self._c;return e("post-list",{attrs:{posts:t.posts,allowCreatingPosts:!1}})},Cn=[];const xn="auth-service/authentication/users/ids",wn="post-service/posts/all";var Sn={name:"PostView",props:{userId:Number},components:{PostList:Js},data:function(){return{posts:[]}},async mounted(){this.getFeed()},watch:{userId(){this.getFeed()}},methods:{async getFeed(){const t=await this.getPosts([this.userId]),e=t.data,s=[this.userId];e.forEach(t=>{t.comments.forEach(t=>{s.includes(t.userId)||s.push(t.userId)})});const a=await this.getUsers(s),i=a.data;this.posts=e.map(t=>{let e=i.find(e=>e.id==t.userId);const s=e.firstName,a=e.lastName,n=t.comments.map(t=>{let e=i.find(e=>e.id==t.userId);const s=e.firstName,a=e.lastName;return{...t,firstName:s,lastName:a}});return{...t,firstName:s,lastName:a,comments:n}})},async getPosts(t){return this.axios.post(wn,{ids:t,loggedInUserId:0})},async getUsers(t){return this.axios.post(xn,{ids:t})}}},In=Sn,En=(s("cb8a"),Object(f["a"])(In,_n,Cn,!1,null,"cd65a4a2",null)),jn=En.exports;const Dn="auth-service/authentication/users/";var Nn={name:"PublicProfileView",components:{PersonaAvatar:ps["a"],PublicPostView:jn},data(){return{username:"",firstName:"",lastName:"",biography:"",accountId:"",connectionNumber:0}},props:{id:String},mounted:function(){this.getUserInfo()},watch:{id(){this.getUserInfo()}},methods:{getUserInfo(){this.axios.get(Dn+this.id).then(t=>{this.username=t.data.username,this.firstName=t.data.firstName,this.lastName=t.data.lastName,this.userId=t.data.id}).catch(t=>{this.$root.snackbar.error(t.response.data.message)})}}},Pn=Nn,On=(s("cf37"),Object(f["a"])(Pn,kn,yn,!1,null,"6ec42062",null)),$n=On.exports,Mn=s("8fea"),Ln=function(){var t=this,e=t._self._c;return e(S["a"],{attrs:{fluid:""}},[e(I["a"],{attrs:{align:"center",justify:"center","min-width":"800px"}},[e(w["a"],{attrs:{cols:"6"}},[e(D["a"],{staticClass:"mt-6"},[e("div",{staticClass:"description ml-8 pt-5"},[t._v("Events")]),e(Mn["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.events,"items-per-page":10},scopedSlots:t._u([{key:"item.timestamp",fn:function({item:s}){return[e("span",[t._v(t._s(new Date(s.timestamp).toLocaleString()))])]}}])})],1)],1)],1)],1)},Tn=[];const zn="logging-service/events";var Un={name:"EventsView",data(){return{events:[],headers:[{text:"Timestamp",value:"timestamp"},{text:"Message",value:"content"},{text:"Type",value:"type"}]}},mounted(){this.getEvents()},methods:{getEvents(){this.axios.get(zn).then(t=>{this.events=t.data,console.log(this.events),console.log(t.data)}).catch(()=>{this.$root.snackbar.error()})}}},qn=Un,Rn=(s("5c60"),Object(f["a"])(qn,Ln,Tn,!1,null,"90994d2e",null)),An=Rn.exports;a["a"].use(x["a"]);const Vn=[{component:F,name:"LoginView",path:"/login"},{component:nt,name:"RegisterView",path:"/register"},{component:Tt,name:"HomeView",path:"/",children:[{component:Xt,name:"AccountView",beforeEnter:Bn,path:"/account"},{component:be,name:"SkillsView",beforeEnter:Bn,path:"/skills"},{component:$e,name:"WorkingExperienceView",beforeEnter:Bn,path:"/working-experience"},{component:We,name:"EducationView",beforeEnter:Bn,path:"/education"},{component:os,name:"BiographyView",beforeEnter:Bn,path:"/biography"},{component:la,name:"ProfileView",beforeEnter:Bn,path:"/profile/:id",props:!0},{component:wa,name:"ExploreConnectionsView",beforeEnter:Bn,path:"/explore-connections"},{component:Oa,name:"MyConnectionsView",beforeEnter:Bn,path:"/my-connections"},{component:Ra,name:"BlockedConnectionsView",beforeEnter:Bn,path:"/blocked-accounts"},{component:Ja,name:"ConnectionRequestsView",beforeEnter:Bn,path:"/connection-requests"},{component:ci,name:"ChatView",beforeEnter:Bn,path:"/chat",children:[{component:vi,name:"ChatRoom",props:!0,path:"/chat/:recipientId"}]},{component:Mi,name:"NotificationsView",beforeEnter:Bn,path:"/notifications"},{component:sn,name:"ExploreJobOffersView",beforeEnter:Bn,path:"/offers"},{component:dn,name:"JobOfferView",path:"/offer/:offerId",beforeEnter:Bn,props:!0},{component:Fi,name:"FeedView",beforeEnter:Bn,path:"/feed"},{component:$n,name:"PublicProfileView",props:!0,path:"/posts/:id"},{component:vn,name:"GuestView",path:"/"},{component:An,name:"EventsView",beforeEnter:Yn,path:"/events"}]}],Fn=new x["a"]({mode:"history",base:"/",routes:Vn});function Bn(t,e,s){let a=localStorage.getItem("id"),i=localStorage.getItem("token");a&&i?s():s("/login")}function Yn(t,e,s){let a=localStorage.getItem("role");"ROLE_ADMINISTRATOR"===a&&s()}var Wn=Fn,Gn=s("130e"),Jn=s("bc3a"),Hn=s.n(Jn);a["a"].config.productionTip=!1;const Kn=a["a"].observable({role:localStorage.getItem("role")});Object.defineProperty(a["a"].prototype,"$role",{get(){return Kn.role},set(t){Kn.role=t}}),a["a"].use(Gn["a"],Hn.a),Hn.a.defaults.baseURL="/api-gateway/",Hn.a.defaults.headers.common["Access-Control-Allow-Credentials"]="true",null!=localStorage.getItem("token")&&(a["a"].axios.defaults.headers["Authorization"]="Bearer "+localStorage.getItem("token")),new a["a"]({router:Wn,vuetify:C,render:t=>t(y)}).$mount("#app")},"5c60":function(t,e,s){"use strict";s("3b7a")},"61e0":function(t,e,s){},6384:function(t,e,s){},"64d5":function(t,e,s){"use strict";s("efc5")},6792:function(t,e,s){},6957:function(t,e,s){"use strict";s("c5ab")},"6b2d":function(t,e,s){"use strict";s("9798")},"6d38":function(t,e,s){"use strict";s("015f")},"702b":function(t,e,s){"use strict";s("eb58")},"72f6":function(t,e,s){"use strict";s("a73b")},"765d":function(t,e,s){},"78d4":function(t,e,s){"use strict";s("dcf3")},"7d6d":function(t,e,s){"use strict";s("6792")},8007:function(t,e,s){},"815d":function(t,e,s){"use strict";s("fa7f")},8204:function(t,e,s){},"868d":function(t,e,s){},8752:function(t,e,s){},"888e":function(t,e,s){t.exports=s.p+"img/icon-small-prog-lang.5dc981ed.png"},"8c1c":function(t,e,s){t.exports=s.p+"img/icon-small-technology.d2670121.png"},"8c85":function(t,e,s){"use strict";s("8204")},"8e78":function(t,e,s){},"8f7c":function(t,e,s){},9004:function(t,e,s){t.exports=s.p+"img/kitty.fb890744.gif"},9139:function(t,e,s){"use strict";(function(t){var a=s("ffd1"),i=s("568d");const n="post-service/posts/",o=50;e["a"]={name:"Post",components:{PersonaAvatar:a["a"],CommentList:i["a"]},props:{id:String,firstName:String,lastName:String,text:String,likes:Number,dislikes:Number,comments:Array,image:String,postWidth:String,userLikesPost:Boolean,userDislikesPost:Boolean},data(){return{postLikes:this.likes,postDislikes:this.dislikes,userLikesPostStatus:this.userLikesPost,userDislikesPostStatus:this.userDislikesPost,showFullContent:!1,showComments:!1,formattedContent:"",contentShouldWrap:!1,urlList:[]}},mounted:function(){let t=this.text,e=0;this.urlList=[];while(1){const s=t.indexOf("["),a=t.indexOf("|"),i=t.indexOf("]");if(-1===s||-1===a||-1===i)break;const n=t.slice(s+1,a),o=t.slice(a+1,i);this.urlList.push({word:n,url:o}),t=t.slice(0,s)+`{url-${e}}`+t.slice(i+1),e+=1}t.split(" ").length>o&&(this.contentShouldWrap=!0),this.formattedContent=t},methods:{userIsLoggedIn(){return null!==localStorage.getItem("id")},convertImage(){return t.from(this.image,"base64").toString()},renderContent:function(){let t=this.formattedContent;return this.contentShouldWrap&&!this.showFullContent&&(t=t.split(" ").slice(0,o).join(" ")),this.urlList.forEach(({word:e,url:s},a)=>{t=t.replace(`{url-${a}}`,`<a target="_blank" href="${s}">${e}</a>`)}),t},toggleShowComments:function(){this.showComments=!this.showComments},toggleShowContent:function(){this.showFullContent=!this.showFullContent},thumbsUp:function(){this.userLikesPostStatus?(this.userLikesPostStatus=!1,this.postLikes=this.postLikes-1,this.sendReaction(0,!0)):(this.userLikesPostStatus=!0,this.postLikes=this.postLikes+1,this.userDislikesPostStatus&&(this.postDislikes=this.postDislikes-1,this.userDislikesPostStatus=!1),this.sendReaction(0,!1))},thumbsDown:function(){this.userDislikesPostStatus?(this.userDislikesPostStatus=!1,this.postDislikes=this.postDislikes-1,this.sendReaction(1,!0)):(this.userDislikesPostStatus=!0,this.postDislikes=this.postDislikes+1,this.userLikesPostStatus&&(this.postLikes=this.postLikes-1,this.userLikesPostStatus=!1),this.sendReaction(1,!1))},sendReaction(t,e){this.axios.post(n+this.id+"/reaction",{userId:localStorage.getItem("id"),reaction:t,removeReaction:e}).catch(t=>{console.log(t),this.$root.snackbar.error()})}}}}).call(this,s("b639").Buffer)},9276:function(t,e,s){},"92ee":function(t,e,s){"use strict";s("152b")},9798:function(t,e,s){},"9a49":function(t,e,s){"use strict";s("8007")},"9dd6":function(t,e,s){},"9fca":function(t,e,s){"use strict";s("d366")},a07b:function(t,e,s){"use strict";s("8f7c")},a471:function(t,e,s){},a73b:function(t,e,s){},a7de:function(t,e,s){"use strict";s("8e78")},adc3:function(t,e,s){},b61d:function(t,e,s){},b673:function(t,e,s){"use strict";s("eb12")},b6a7:function(t,e,s){"use strict";s("c217")},b807:function(t,e,s){},bc02:function(t,e,s){},c0e0:function(t,e,s){"use strict";s("c24d")},c217:function(t,e,s){},c24d:function(t,e,s){},c5ab:function(t,e,s){},c998:function(t,e,s){t.exports=s.p+"img/icon-small-soft-skill.05724c2a.png"},ca9d:function(t,e,s){},cb8a:function(t,e,s){"use strict";s("5475")},cc78:function(t,e,s){"use strict";s("fa44")},cf37:function(t,e,s){"use strict";s("d676")},d366:function(t,e,s){},d36b:function(t,e,s){"use strict";s("61e0")},d676:function(t,e,s){},d895:function(t,e,s){t.exports=s.p+"img/icon-small-knowledge.56290a01.png"},da1c:function(t,e,s){"use strict";s("284a")},dcf3:function(t,e,s){},e311:function(t,e,s){"use strict";s("765d")},e4a9:function(t,e,s){"use strict";s("868d")},eb12:function(t,e,s){},eb40:function(t,e,s){},eb58:function(t,e,s){},ee73:function(t,e,s){"use strict";s("33c4")},eefd:function(t,e,s){"use strict";s("ca9d")},efc5:function(t,e,s){},f462:function(t,e,s){"use strict";s("401b")},f52d:function(t,e,s){"use strict";s("b807")},fa44:function(t,e,s){},fa7f:function(t,e,s){},fbbb:function(t,e,s){t.exports=s.p+"img/icon-small-language.6b915817.png"},ffd1:function(t,e,s){"use strict";var a=s("8212"),i=s("adda"),n=function(){var t=this,e=t._self._c;return e(a["a"],{attrs:{color:"indigo accent-1",size:t.size}},[t.url?e(i["a"],{staticClass:"elevation-6",attrs:{src:t.url}}):e("span",{staticClass:"avatar"},[t._v(t._s(t.getInitials()))])],1)},o=[],r=(s("13d5"),{name:"PersonaAvatar",props:{fullname:String,url:String,size:{default:40}},data(){return{}},methods:{getInitials(){return this.fullname.split(" ").reduce((t,e)=>t+e[0],"")}}}),c=r,l=(s("08d7"),s("2877")),d=Object(l["a"])(c,n,o,!1,null,"02d50306",null);e["a"]=d.exports}});
//# sourceMappingURL=app.773c4600.js.map